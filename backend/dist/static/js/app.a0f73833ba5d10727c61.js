webpackJsonp([1],{"1FD/":function(e,t){},"1z5V":function(e,t){},"5AqT":function(e,t){},D4uH:function(e,t,a){"use strict";var r={},i={name:"icon",props:{name:{type:String,validator:function(e){return e?e in r||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+e+'".\nPlease make sure you have imported this icon before using it.'),!1):(console.warn('Invalid prop: prop "name" is required.'),!1)}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(e){return"horizontal"===e||"vertical"===e}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var e=this.scale;return e=void 0===e?1:Number(e),isNaN(e)||e<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):e*this.outerScale},klass:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse}},icon:function(){return this.name?r[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var e=this.icon,t=e.width,a=e.height;return Math.max(t,a)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var e=this.icon.raw,t={};return e=e.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,function(e,a,r){var i="fa-"+(s++).toString(16);return t[r]=i,' id="'+i+'"'}),e=e.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(e,a,r,i){var s=a||i;return s&&t[s]?"#"+t[s]:e}),e}},mounted:function(){var e=this;if(!this.icon){this.$children.forEach(function(t){t.outerScale=e.normalizedScale});var t=0,a=0;this.$children.forEach(function(e){t=Math.max(t,e.width),a=Math.max(a,e.height)}),this.childrenWidth=t,this.childrenHeight=a,this.$children.forEach(function(e){e.x=(t-e.width)/2,e.y=(a-e.height)/2})}},register:function(e){for(var t in e){var a=e[t];a.paths||(a.paths=[]),a.d&&a.paths.push({d:a.d}),a.polygons||(a.polygons=[]),a.points&&a.polygons.push({points:a.points}),r[t]=a}},icons:r},s=870711;var n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{class:e.klass,style:e.style,attrs:{version:"1.1",role:e.label?"img":"presentation","aria-label":e.label,x:e.x,y:e.y,width:e.width,height:e.height,viewBox:e.box}},[e._t("default",[e.icon&&e.icon.paths?e._l(e.icon.paths,function(t,r){return a("path",e._b({key:"path-"+r},"path",t,!1))}):e._e(),e._v(" "),e.icon&&e.icon.polygons?e._l(e.icon.polygons,function(t,r){return a("polygon",e._b({key:"polygon-"+r},"polygon",t,!1))}):e._e(),e._v(" "),e.icon&&e.icon.raw?[a("g",{domProps:{innerHTML:e._s(e.raw)}})]:e._e()])],2)},staticRenderFns:[]};var o=a("VU/8")(i,n,!1,function(e){a("5AqT")},null,null);t.a=o.exports},M1uU:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),i={name:"Header",components:{},data:function(){return{msg:"Welcome to Your Vue.js App",brand:"Auto Shop",search_input:"",active:!1}},methods:{logout:function(){var e=this;this.active=!1,console.log("Logout"),this.$auth.logout().then(function(t){e.$auth.logoutRefresh(),e.$auth.destroyTokens(),e.$router.push("/"),e.$notify({title:"Logout",message:"You have been logged out",type:t.data.status}),e.$store.commit("setUser",{})})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",{staticClass:"header"},[a("div",{on:{click:function(t){e.active=!1}}},[a("router-link",{staticClass:"brand-link",attrs:{to:{name:"View-Cars",params:{}}}},[e._v(" "+e._s(e.brand))])],1),e._v(" "),a("div",{class:{active:e.active},attrs:{id:"hamburger"},on:{click:function(t){e.active=!e.active}}},[a("span",{staticClass:"bar1"}),e._v(" "),a("span",{staticClass:"bar2"}),e._v(" "),a("span",{staticClass:"bar3"})]),e._v(" "),a("div",{class:{active:e.active},attrs:{id:"side-menu"}},[a("ul",[a("li",[a("el-input",{attrs:{placeholder:"Search"},model:{value:e.search_input,callback:function(t){e.search_input=t},expression:"search_input"}})],1),e._v(" "),a("li",{on:{click:function(t){e.active=!1}}},[a("router-link",{staticClass:"link",attrs:{to:""}},[e._v("Blog")])],1),e._v(" "),a("li",{on:{click:function(t){e.active=!1}}},[a("router-link",{staticClass:"link",attrs:{to:{name:"Add-Car",params:{}}}},[e._v("Add Car")])],1),e._v(" "),a("li",{on:{click:function(t){e.active=!1}}},[a("router-link",{staticClass:"link",attrs:{to:""}},[e._v("Luxury Cars")])],1),e._v(" "),a("li",{on:{click:function(t){e.active=!1}}},[a("router-link",{staticClass:"link",attrs:{to:""}},[e._v("New Cars")])],1),e._v(" "),a("li",{on:{click:function(t){e.active=!1}}},[a("router-link",{staticClass:"link",attrs:{to:""}},[e._v("Old Cars")])],1),e._v(" "),a("li",{on:{click:function(t){e.active=!1}}},[a("router-link",{staticClass:"link",attrs:{to:""}},[e._v("Scarp Cars")])],1),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:!e.$auth.isAuthenticated(),expression:"!$auth.isAuthenticated()"}],staticClass:"log-out",on:{click:function(t){e.active=!1}}},[a("router-link",{staticClass:"link",attrs:{to:{name:"Login",params:{}}}},[a("icon",{staticClass:"icon",attrs:{scale:"1.75",name:"sign-in"}})],1)],1),e._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:e.$auth.isAuthenticated(),expression:"$auth.isAuthenticated()"}],staticClass:"log-out",on:{click:e.logout}},[a("icon",{staticClass:"icon",attrs:{scale:"1.75",name:"sign-out"}})],1),e._v(" "),a("li")])])])],1)},staticRenderFns:[]};var n={name:"Footer",data:function(){return{date:""}},created:function(){var e=new Date;this.date=e.getFullYear()},methods:{}},o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",[t("el-footer",{staticClass:"app-footer"},[t("div",{},[t("p",[this._v("\n          Auto Shop Â©  "+this._s(this.date)+"\n        ")]),this._v(" "),t("p",[this._v("\n          Built by Tech Solutions\n        ")])])])],1)},staticRenderFns:[]};var l={name:"App",components:{"app-header":a("VU/8")(i,s,!1,function(e){a("ekQC")},"data-v-000e92d0",null).exports,"app-footer":a("VU/8")(n,o,!1,function(e){a("ZKIK")},"data-v-318577e8",null).exports}},c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("app-header"),this._v(" "),t("div",{staticClass:"main-container"},[t("aside",{staticClass:"aside"}),this._v(" "),t("main",[t("router-view")],1)]),this._v(" "),t("app-footer")],1)},staticRenderFns:[]};var u=a("VU/8")(l,c,!1,function(e){a("aC7P")},null,null).exports,d=a("/ocq"),h={props:["image_url"],data:function(){return{}},created:function(){var e=window.location.hostname+":"+window.location.port;this.imageUrl="http://"+e+"/get-photo/"+this.image_url}},m={render:function(){var e=this.$createElement;return(this._self._c||e)("img",{staticClass:"my-img",attrs:{src:this.imageUrl,alt:""}})},staticRenderFns:[]};var f=a("VU/8")(h,m,!1,function(e){a("NVE/")},null,null).exports,v={components:{"my-img":f},data:function(){return{cars:[],autoplay:!1,loading:!0}},created:function(){var e=this;this.$store.getters.cars&&this.$store.getters.cars.length>0?(this.cars=this.$store.getters.cars,this.loading=!1):this.$http.get("/api/v1/get-cars").then(function(t){e.cars=t.data.data,e.$store.commit("setCars",e.cars),console.log(t.data.data),e.loading=!1}).catch(function(e){console.log(e)})},methods:{selectCar:function(e){this.$store.commit("setCar",e),this.$router.push({name:"View-Car"})}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("h3",[e._v("Luxury Cars")]),e._v(" "),a("el-carousel",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"carousel",attrs:{"indicator-position":"none",arrow:"always",autoplay:!1}},e._l(e.cars.length,function(t){return a("el-carousel-item",{key:t},[a("div",{staticClass:"overlay",attrs:{class:"overlay"},on:{click:function(a){e.selectCar(e.cars[t-1])}}},[a("my-img",{attrs:{image_url:e.cars[t-1].car_id}})],1)])})),e._v(" "),a("hr"),e._v(" "),a("h3",[e._v("New Cars")]),e._v(" "),a("el-carousel",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{arrow:"always",autoplay:!1}},e._l(e.cars.length,function(e){return a("el-carousel-item",{key:e})})),e._v(" "),a("hr"),e._v(" "),a("h3",[e._v("Old Cars")]),e._v(" "),a("el-carousel",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{arrow:"always",autoplay:!1}},e._l(e.cars.length,function(e){return a("el-carousel-item",{key:e})})),e._v(" "),a("hr")],1)},staticRenderFns:[]};var g=a("VU/8")(v,p,!1,function(e){a("azJ1")},null,null).exports,_={data:function(){return{have_photo:!1,transmissions:[{value:"manual",label:"Manual"},{value:"automatic",label:"Automatic"}],engines:[{value:"4",label:"4 Cylinder"},{value:"6",label:"6 Cylinder"},{value:"8",label:"8 Cylinder"},{value:"10",label:"10 Cylinder"},{value:"12",label:"12 Cylinder"}],fuel_type:[{value:"diesel",label:"Diesel"},{value:"petrol",label:"Petrol"}],drive_type:[{value:"2",label:"2WD"},{value:"4",label:"4WD"}],car_type:[{value:"luxury",label:"Luxury"},{value:"new",label:"New"},{value:"old",label:"Old"},{value:"scrap",label:"Scrap"}],imageUrl:"",form:{name:"",price:"",description:"",brand:"",model:"",year:"",transmission:"",engine:"",mileage:"",fuel:"",type:"",drive_train:"",file:""},rules:{name:[{required:!0,message:"This field is required",trigger:"changed|blur"}],price:[{required:!0,message:"This field is required",trigger:"changed|blur"}],description:[{required:!0,message:"This field is required",trigger:"changed|blur"}],brand:[{required:!0,message:"This field is required",trigger:"changed|blur"}],model:[{required:!0,message:"This field is required",trigger:"changed|blur"}],year:[{required:!0,message:"This field is required",trigger:"changed|blur"}],transmission:[{required:!0,message:"This field is required",trigger:"changed|blur"}],engine:[{required:!0,message:"This field is required",trigger:"changed|blur"}],mileage:[{required:!0,message:"This field is required",trigger:"changed|blur"}],fuel:[{required:!0,message:"This field is required",trigger:"changed|blur"}],drive_train:[{required:!0,message:"This field is required",trigger:"changed|blur"}]},fileData:{car_id:""}}},created:function(){var e=window.location.hostname+":"+window.location.port;this.upload_url="http://"+e+"/api/v1/upload-photo"},methods:{onSubmit:function(){var e=this;this.have_photo?(console.log(this.form),this.$http.post("/api/v1/add-car",this.form).then(function(t){e.$notify({title:"Car",message:t.data.message,type:t.data.status}),e.$http.get("/api/v1/get-cars").then(function(t){e.cars=t.data.data,e.$store.commit("setCars",e.cars)}).catch(function(e){console.log(e)}),console.log(e.fileData),console.log(t.data.data.car_id),e.fileData.car_id=t.data.data.car_id,e.$refs.upload.submit(),e.$http.get("/api/v1/get-car/"+t.data.data.car_id).then(function(t){e.$store.commit("setCar",t.data.data),e.$router.push({name:"View-Car"})})})):this.$notify.info({title:"Image",message:"Please add a Featured Image"})},handleAvatarSuccess:function(e,t){console.log("upload successful"),console.log(e.data.data),console.log("upload successful"),this.$router.push({name:"View-Car"})},beforeAvatarUpload:function(e){this.imageUrl=URL.createObjectURL(e.raw);var t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("Avatar picture must be JPG format!"),a||this.$message.error("Avatar picture size can not exceed 2MB!"),t&&a},onChanged:function(e,t){this.imageUrl=URL.createObjectURL(e.raw),this.form.file=e.raw,this.have_photo=!0},onSubmitTest:function(){console.log(this.form)}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-container"},[a("div",{staticClass:"grid-md-6 ml-10"},[a("el-form",{attrs:{"label-position":"left",model:e.form,rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Name",prop:"name"}},[a("el-input",{attrs:{placeholder:"Name *"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Price",prop:"price"}},[a("el-input",{model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Description",prop:"description"}},[a("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Brand",prop:"brand"}},[a("el-input",{model:{value:e.form.brand,callback:function(t){e.$set(e.form,"brand",t)},expression:"form.brand"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Model",prop:"model"}},[a("el-input",{model:{value:e.form.model,callback:function(t){e.$set(e.form,"model",t)},expression:"form.model"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Year",prop:"year"}},[a("el-date-picker",{staticClass:"w-100",attrs:{format:"yyyy","value-format":"yyyy,MM,dd",type:"year",placeholder:"Pick a year"},model:{value:e.form.year,callback:function(t){e.$set(e.form,"year",t)},expression:"form.year"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Transmission",prop:"transmission"}},[a("el-select",{staticClass:"w-100",attrs:{placeholder:"Transmission"},model:{value:e.form.transmission,callback:function(t){e.$set(e.form,"transmission",t)},expression:"form.transmission"}},e._l(e.transmissions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"Engine",prop:"engine"}},[a("el-select",{staticClass:"w-100",attrs:{placeholder:"Cylinder"},model:{value:e.form.engine,callback:function(t){e.$set(e.form,"engine",t)},expression:"form.engine"}},e._l(e.engines,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"Mileage",prop:"mileage"}},[a("el-input",{model:{value:e.form.mileage,callback:function(t){e.$set(e.form,"mileage",t)},expression:"form.mileage"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Fuel",prop:"fuel"}},[a("el-select",{staticClass:"w-100",attrs:{placeholder:"Fuel"},model:{value:e.form.fuel,callback:function(t){e.$set(e.form,"fuel",t)},expression:"form.fuel"}},e._l(e.fuel_type,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"Type",prop:"type"}},[a("el-select",{staticClass:"w-100",attrs:{placeholder:"Type of car"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.car_type,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"Drive Train",prop:"drive_train"}},[a("el-select",{staticClass:"w-100",attrs:{placeholder:"Drive Train"},model:{value:e.form.drive_train,callback:function(t){e.$set(e.form,"drive_train",t)},expression:"form.drive_train"}},e._l(e.drive_type,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("Save")])],1)],1)],1),e._v(" "),a("div",{staticClass:"grid-md-6 ml-10"},[a("h3",{staticClass:"mt-0"},[e._v("Featured Image")]),e._v(" "),a("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:e.upload_url,"show-file-list":!1,"on-change":e.onChanged,"auto-upload":!1,data:e.fileData,"on-success":e.handleAvatarSuccess}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])},staticRenderFns:[]};var w=a("VU/8")(_,b,!1,function(e){a("1z5V")},null,null).exports,y={components:{"my-img":f},data:function(){return{car:{},image:"image",owner:{}}},created:function(){this.car=this.$store.getters.car,this.owner=this.$store.getters.user},methods:{carTable:function(e){return[{label:"Brand",value:e.brand},{label:"Model",value:e.model},{label:"Price",value:"D"+e.price},{label:"Year",value:e.year},{label:"Transmission",value:e.transmission},{label:"Engine",value:e.engine+" Cylinder"},{label:"Mileage",value:e.mileage},{label:"Fuel",value:e.fuel},{label:"Drive Train",value:e.drive_train+"WD"}]},Edit:function(){this.$store.commit("setCar",this.car),this.$router.push({name:"Edit-Car"})}}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-container"},[a("div",{staticClass:"grid-md-8"},[a("el-card",{staticClass:"box-card relative"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.car.name))]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.owner&&e.$can.edit(e.owner,e.car),expression:" owner && $can.edit(owner,car)"}],staticClass:"btn",attrs:{type:"text"},on:{click:e.Edit}},[e._v("Edit")])],1),e._v(" "),a("div",{}),e._v(" "),a("my-img",{attrs:{image_url:e.car.car_id}})],1),e._v(" "),a("el-card",{staticClass:"mt-10"},[a("el-table",{staticClass:"car-table",staticStyle:{width:"100%"},attrs:{data:e.carTable(e.car)}},[a("el-table-column",{attrs:{prop:"label",label:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:""}})],1)],1)],1),e._v(" "),a("div",{staticClass:"grid-md-4 "},[a("el-card",{staticClass:"box-card"})],1)])},staticRenderFns:[]};var k=a("VU/8")(y,C,!1,function(e){a("1FD/")},null,null).exports,$={components:{"my-img":f},data:function(){return{car:{},image:"image"}},created:function(){this.car=this.$store.getters.car,this.owner=this.$store.getters.user,this.info=[{label:"Name",value:this.car.name},{label:"Brand",value:this.car.brand},{label:"Model",value:this.car.model},{label:"Price",value:this.car.price},{label:"Year",value:this.car.year},{label:"Transmission",value:this.car.transmission},{label:"Engine",value:this.car.engine},{label:"Mileage",value:this.car.mileage},{label:"Fuel",value:this.car.fuel},{label:"Drive Train",value:this.car.drive_train}]},methods:{Edit:function(){this.$store.commit("setCar",this.car),this.$router.push({name:"Edit-Car"})},Info2Car:function(){this.car.name=this.info[0].value,this.car.brand=this.info[1].value,this.car.model=this.info[2].value,this.car.price=this.info[3].value,this.car.year=this.info[4].value,this.car.transmission=this.info[5].value,this.car.engine=this.info[6].value,this.car.mileage=this.info[7].value,this.car.fuel=this.info[8].value,this.car.drive_train=this.info[9].value},Save:function(){this.Info2Car(),console.log(this.car)}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-container"},[a("div",{staticClass:"grid-md-8"},[a("el-card",{staticClass:"box-card relative"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.car.name))]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.owner&&e.$can.delete(e.owner,e.car),expression:" owner && $can.delete(owner,car)"}],staticClass:"btn",attrs:{type:"text"},on:{click:function(e){}}},[e._v("Delete")])],1),e._v(" "),a("div",{},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.owner&&e.$can.delete(e.owner,e.car),expression:" owner && $can.delete(owner,car)"}],attrs:{type:"text"},on:{click:function(e){}}},[e._v("View")])],1),e._v(" "),a("my-img",{attrs:{image_url:e.car.car_id}})],1),e._v(" "),a("el-card",{staticClass:"mt-10"},[e._l(e.info.length,function(t){return a("div",{staticClass:"edit-car-fields"},[a("span",[e._v(e._s(e.info[t-1].label))]),e._v(" "),a("span",[a("el-input",{model:{value:e.info[t-1].value,callback:function(a){e.$set(e.info[t-1],"value",a)},expression:"info[item - 1].value"}})],1)])}),e._v(" "),a("div",{staticClass:"mt-10"},[a("el-button",{on:{click:e.Save}},[e._v("Save")])],1)],2)],1),e._v(" "),a("div",{staticClass:"grid-md-4 "},[a("el-card",{staticClass:"box-card"})],1)])},staticRenderFns:[]};var T=a("VU/8")($,x,!1,function(e){a("cQ3p")},null,null).exports,U={data:function(){return{password:"",email:"",loading:!1}},methods:{login:function(){var e=this;this.loading=!0,this.$auth.login({email:this.email,password:this.password}).then(function(t){"success"==t.data.status?(e.$auth.setTokens(t.data,e.$ls),e.$router.push("/"),e.$notify.success({title:" Login",message:t.data.message,type:t.data.status}),e.$store.commit("setUser",t.data.data)):e.$notify.success({title:" Login",message:t.data.message,type:t.data.status})}).catch(function(e){console.log(e)}),this.loading=!1}}},A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("el-card",[a("h3",[e._v("Sign In")]),e._v(" "),a("el-input",{staticClass:"spacing",attrs:{placeholder:"Email",clearable:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),a("el-input",{staticClass:"spacing",attrs:{placeholder:"Password",type:"password",clearable:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),a("el-button",{staticClass:"spacing",attrs:{type:"success",loading:e.loading},on:{click:function(t){e.login()}}},[e._v("Login ")]),e._v(" "),a("p",{staticClass:"spacing"},[e._v("If You don't have an account? You can create one "),a("router-link",{attrs:{to:{name:"Register",params:{}}}},[e._v("here!")])],1)],1)],1)},staticRenderFns:[]};var S=a("VU/8")(U,A,!1,function(e){a("yJXN")},null,null).exports,R={data:function(){return{loading:!1,form:{password:"",password_confirm:"",email:"",username:""}}},methods:{Register:function(){var e=this;this.form.password==this.form.password_confirm?this.$http.post("/api/v1/sign-up",this.form).then(function(t){e.$notify({title:"Sign Up",message:t.data.message,type:t.data.status}),e.$router.push({name:"View-Cars"})}).catch(function(e){console.log(e.data)}):this.$notify({title:"Error",message:"Passwords do not match",type:"error"}),console.log(this.form)}}},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("el-card",[a("h3",[e._v("Register")]),e._v(" "),a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"spacing",attrs:{placeholder:"Email",clearable:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e._v(" "),a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"spacing",attrs:{placeholder:"username",clearable:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),e._v(" "),a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"spacing",attrs:{placeholder:"Password",type:"password",clearable:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"spacing",attrs:{placeholder:"Confirm Password",type:"password",clearable:""},model:{value:e.form.password_confirm,callback:function(t){e.$set(e.form,"password_confirm",t)},expression:"form.password_confirm"}}),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.form.password&&e.form.username&&e.form.password==e.form.password_confirm&&e.form.email,expression:"form.password && form.username && form.password == form.password_confirm && form.email"}],staticClass:"spacing",attrs:{type:"success",loading:e.loading},on:{click:function(t){e.Register()}}},[e._v("Register")])],1)],1)},staticRenderFns:[]};var E=a("VU/8")(R,q,!1,function(e){a("M1uU")},null,null).exports;r.default.use(d.a);var N=new d.a({routes:[{path:"/",name:"View-Cars",component:g},{path:"/add-car",name:"Add-Car",component:w,meta:{forAuth:!0}},{path:"/view-car",name:"View-Car",component:k},{path:"/edit-car",name:"Edit-Car",component:T,meta:{forAuth:!0}},{path:"/login",name:"Login",component:S},{path:"/register",name:"Register",component:E}]}),D=a("zL8q"),V=a.n(D),L=(a("tvR6"),a("wUZ8")),z=a.n(L),F=a("UnSZ"),M=a.n(F),P=(a("D/PP"),a("D4uH")),B=a("mtWM"),I=a.n(B),H=a("Rf8U"),W=a.n(H),Y=a("NYxO"),O=(a("sUu7"),a("HSQo")),J=a.n(O);a.d(t,"bus",function(){return Q}),r.default.config.productionTip=!1,r.default.use(W.a,I.a);var j=window.location.hostname+":"+window.location.port;I.a.defaults.baseURL="http://"+j,r.default.use(Y.a),r.default.use(V.a,{locale:z.a}),r.default.use(M.a,{name:"ls"}),r.default.use(function(e){var t={};e.auth={setAccessToken:function(e){this.storage.set("access-token",e["access-token"]);var t=Date.now()+9e5;this.storage.set("expiration-time",t)},setBaseUrl:function(e){this.baseURL=e},setTokens:function(e,t){var a=Date.now()+102e4-2e3;e["refresh-token"]&&t.set("refresh-token",e["refresh-token"]),e["access-token"]&&(t.set("access-token",e["access-token"]),t.set("expiration-time",a))},setAuthenticatedUser:function(e){t=e},setStorage:function(e){this.storage=e},getAccessToken:function(){var e=this.storage.get("access-token"),t=this.storage.get("expiration-time");if(!e||!t)return null;var a=(t-Date.now())/1e3/60;return console.log(a),Date.now()>t?(this.destroyTokens(),null):e},destroyTokens:function(){this.storage.remove("access-token"),this.storage.remove("expiration-time"),this.storage.remove("refresh-token")},isAuthenticated:function(){return!!this.getAccessToken()},getRefreshToken:function(){var e=this.storage.get("refresh-token");return e||null},getAuthenticatedUser:function(e){return t},login:function(e){return I.a.post(this.baseURL+"/login",e)},logout:function(){this.userLogout=!1;var e=this.getAccessToken();return I.a.get(this.baseURL+"/logout-access",{headers:{Authorization:"Bearer "+e}})},logoutRefresh:function(){var e=this.getRefreshToken();return I.a.get(this.baseURL+"/logout-refresh",{headers:{Authorization:"Bearer "+e}})},refreshToken:function(){var e=this;I.a.get(this.baseURL+"/token-refresh",{headers:{Authorization:"Bearer "+this.getRefreshToken()}}).then(function(t){return e.setAccessToken(t.data),!0}).catch(function(e){console.log(e.data)})},validateToken:function(){var e=this.storage.get("expiration-time");return!(Date.now()>e)||this.refreshToken()},get:function(e){return this.validateToken()?I.a.get(this.baseURL+e,{headers:{Authorization:"Bearer "+this.getAccessToken()}}):null},post:function(e,t){if(this.validateToken()){var a=this.getAccessToken();return I.a.post(e,t,{headers:{Authorization:"Bearer "+a}})}}},J()(e.prototype,{$auth:{get:function(){return e.auth}}})}),r.default.use(function(e){e.can={edit:function(e,t){return e.id==t.owner.id},delete:function(e,t){return e.id==t.owner.id}},J()(e.prototype,{$can:{get:function(){return e.can}}})}),r.default.auth.setBaseUrl(j+"/api/v1"),r.default.auth.setStorage(r.default.ls),r.default.component("icon",P.a);var Q=new r.default;N.beforeEach(function(e,t,a){e.matched.some(function(e){return e.meta.forVisitors})?r.default.auth.isAuthenticated()?a({path:"/"}):a():e.matched.some(function(e){return e.meta.forAuth})?r.default.auth.isAuthenticated()?a():a({path:"/login"}):a()});var K=new Y.a.Store({state:{car:{},cars:[],user:[]},getters:{car:function(e){return e.car},cars:function(e){return e.cars},user:function(e){return e.user}},mutations:{setCar:function(e,t){e.car=t},setCars:function(e,t){e.cars=t},setUser:function(e,t){e.user=t}}});new r.default({el:"#app",router:N,store:K,components:{App:u},template:"<App/>"})},"NVE/":function(e,t){},ZKIK:function(e,t){},aC7P:function(e,t){},azJ1:function(e,t){},cQ3p:function(e,t){},ekQC:function(e,t){},tvR6:function(e,t){},yJXN:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a0f73833ba5d10727c61.js.map