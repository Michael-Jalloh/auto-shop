webpackJsonp([1],{"47hv":function(t,e){},"4Fgz":function(t,e){},"4iHF":function(t,e){},"5AqT":function(t,e){},"5zl/":function(t,e){},"7Ub5":function(t,e){},D4uH:function(t,e,a){"use strict";var s={},i={name:"icon",props:{name:{type:String,validator:function(t){return t?t in s||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+t+'".\nPlease make sure you have imported this icon before using it.'),!1):(console.warn('Invalid prop: prop "name" is required.'),!1)}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(t){return"horizontal"===t||"vertical"===t}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},klass:function(){return{"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse}},icon:function(){return this.name?s[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var t=this.icon,e=t.width,a=t.height;return Math.max(e,a)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var t=this.icon.raw,e={};return t=t.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,function(t,a,s){var i="fa-"+(n++).toString(16);return e[s]=i,' id="'+i+'"'}),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(t,a,s,i){var n=a||i;return n&&e[n]?"#"+e[n]:t}),t}},mounted:function(){var t=this;if(!this.icon){this.$children.forEach(function(e){e.outerScale=t.normalizedScale});var e=0,a=0;this.$children.forEach(function(t){e=Math.max(e,t.width),a=Math.max(a,t.height)}),this.childrenWidth=e,this.childrenHeight=a,this.$children.forEach(function(t){t.x=(e-t.width)/2,t.y=(a-t.height)/2})}},register:function(t){for(var e in t){var a=t[e];a.paths||(a.paths=[]),a.d&&a.paths.push({d:a.d}),a.polygons||(a.polygons=[]),a.points&&a.polygons.push({points:a.points}),s[e]=a}},icons:s},n=870711;var r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{class:t.klass,style:t.style,attrs:{version:"1.1",role:t.label?"img":"presentation","aria-label":t.label,x:t.x,y:t.y,width:t.width,height:t.height,viewBox:t.box}},[t._t("default",[t.icon&&t.icon.paths?t._l(t.icon.paths,function(e,s){return a("path",t._b({key:"path-"+s},"path",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.polygons?t._l(t.icon.polygons,function(e,s){return a("polygon",t._b({key:"polygon-"+s},"polygon",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.raw?[a("g",{domProps:{innerHTML:t._s(t.raw)}})]:t._e()])],2)},staticRenderFns:[]};var o=a("VU/8")(i,r,!1,function(t){a("5AqT")},null,null);e.a=o.exports},DlJm:function(t,e){},GIGI:function(t,e){},"GOS+":function(t,e){},H7Fe:function(t,e){},JL2R:function(t,e){},KEJt:function(t,e){},"L81+":function(t,e){},MD0p:function(t,e){},MMfF:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i={name:"Header",components:{},data:function(){return{msg:"Welcome to Your Vue.js App",brand:"Auto Shop",search_input:"",active:!1}},methods:{logout:function(){var t=this;this.active=!1,console.log("Logout"),this.$auth.logout().then(function(e){t.$auth.logoutRefresh(),t.$auth.destroyTokens(),t.$router.push("/"),t.$notify({title:"Logout",message:"You have been logged out",type:e.data.status}),t.$store.commit("setUser",{})}).catch(function(t){console.log(t)})},message:function(){this.active=!1},profile:function(){this.active=!1}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",{staticClass:"header"},[a("div",{on:{click:function(e){t.active=!1}}},[a("router-link",{staticClass:"brand-link",attrs:{to:{name:"ViewCars",params:{}}}},[t._v(" "+t._s(t.brand))])],1),t._v(" "),a("div",{class:{active:t.active},attrs:{id:"hamburger"},on:{click:function(e){t.active=!t.active}}},[a("span",{staticClass:"bar1"}),t._v(" "),a("span",{staticClass:"bar2"}),t._v(" "),a("span",{staticClass:"bar3"})]),t._v(" "),a("div",{class:{active:t.active},attrs:{id:"side-menu"}},[a("ul",[a("li",[a("el-input",{attrs:{placeholder:"Search"},model:{value:t.search_input,callback:function(e){t.search_input=e},expression:"search_input"}})],1),t._v(" "),a("li",{on:{click:function(e){t.active=!1}}},[a("router-link",{staticClass:"link",attrs:{to:{name:"BlogPosts",params:{}}}},[t._v("Blog")])],1),t._v(" "),a("li",{on:{click:function(e){t.active=!1}}},[a("router-link",{staticClass:"link",attrs:{to:{name:"Type-Cars",params:{id:"luxury"}}}},[t._v("Luxury Cars")])],1),t._v(" "),a("li",{on:{click:function(e){t.active=!1}}},[a("router-link",{staticClass:"link",attrs:{to:{name:"Type-Cars",params:{id:"new"}}}},[t._v("New Cars")])],1),t._v(" "),a("li",{on:{click:function(e){t.active=!1}}},[a("router-link",{staticClass:"link",attrs:{to:{name:"Type-Cars",params:{id:"old"}}}},[t._v("Old Cars")])],1),t._v(" "),a("li",{on:{click:function(e){t.active=!1}}},[a("router-link",{staticClass:"link",attrs:{to:{name:"Type-Cars",params:{id:"rent"}}}},[t._v("Rent Cars")])],1),t._v(" "),t.$auth.isAuthenticated()?a("li",{on:{click:function(e){t.active=!1}}},[a("router-link",{staticClass:"link",attrs:{to:{name:"MyCars",params:{}}}},[t._v("Dashboard")])],1):t._e(),t._v(" "),t.$auth.isAuthenticated()?a("li",{on:{click:function(e){t.active=!1}}},[a("router-link",{staticClass:"link",attrs:{to:{name:"MyProfile",params:{}}}},[t._v("Profile")])],1):t._e(),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:!t.$auth.isAuthenticated(),expression:"!$auth.isAuthenticated()"}],staticClass:"log-out",on:{click:function(e){t.active=!1}}},[a("router-link",{staticClass:"link",attrs:{to:{name:"Login",params:{}}}},[a("icon",{staticClass:"icon",attrs:{scale:"1.75",name:"sign-in"}})],1)],1),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:t.$auth.isAuthenticated(),expression:"$auth.isAuthenticated()"}],staticClass:"log-out",on:{click:t.logout}},[a("icon",{staticClass:"icon",attrs:{scale:"1.75",name:"sign-out"}})],1),t._v(" "),a("li")])])])],1)},staticRenderFns:[]};var r=a("VU/8")(i,n,!1,function(t){a("VVit")},"data-v-0a8ae6d4",null).exports,o={name:"Footer",data:function(){return{date:""}},created:function(){var t=new Date;this.date=t.getFullYear()},methods:{}},l={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-container",[e("el-footer",{staticClass:"app-footer"},[e("div",{},[e("p",[this._v("\n          Auto Shop Â©  "+this._s(this.date)+"\n        ")]),this._v(" "),e("p",[this._v("\n          Built by Tech Solutions\n        ")])])])],1)},staticRenderFns:[]};var c=a("VU/8")(o,l,!1,function(t){a("aE0u")},"data-v-29cf077c",null).exports,u={data:function(){return{password:"",email:"",loading:!1,show:!1}},created:function(){var t=this;ge.$on("login",function(){t.show=!0})},methods:{login:function(){var t=this;this.loading=!0,this.$auth.login({email:this.email,password:this.password}).then(function(e){"success"==e.data.status?(t.$auth.setTokens(e.data,t.$ls),t.$notify({title:" Login",message:e.data.message,type:e.data.status}),console.log(e.data.data.account_type),t.$store.commit("setUser",e.data.data)):t.$notify({title:" Login",message:e.data.message,type:e.data.status})}).catch(function(e){console.log(e),t.$notify.error({title:"Login",message:"Error Occur"})}),this.show=!1,this.loading=!1,this.show=!1},close:function(){this.show=!1}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"Login",visible:t.show,width:"50%",center:""},on:{"update:visible":function(e){t.show=e}}},[a("h3",[t._v("Sign In")]),t._v(" "),a("el-input",{staticClass:"spacing",attrs:{placeholder:"Email",clearable:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),a("el-input",{staticClass:"spacing",attrs:{placeholder:"Password",type:"password",clearable:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),a("el-button",{staticClass:"spacing",attrs:{type:"success",loading:t.loading},on:{click:function(e){t.login()}}},[t._v("Login ")])],1)},staticRenderFns:[]};var p={name:"App",components:{"app-header":r,"app-footer":c,login:a("VU/8")(u,d,!1,function(t){a("MD0p")},null,null).exports}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view"),this._v(" "),e("login")],1)},staticRenderFns:[]};var m=a("VU/8")(p,h,!1,function(t){a("UlM0")},null,null).exports,f=a("/ocq"),v={props:["image_url"],data:function(){return{}},created:function(){var t=window.location.host;this.imageUrl="http://"+t+"/get-photo/"+this.image_url},computed:{getImage:function(){return"http://"+window.location.host+"/get-photo/"+this.image_url}}},g={render:function(){var t=this.$createElement;return(this._self._c||t)("img",{staticClass:"my-img",attrs:{src:this.getImage,alt:""}})},staticRenderFns:[]};var _=a("VU/8")(v,g,!1,function(t){a("7Ub5")},null,null).exports,b={components:{"my-img":_},data:function(){return{cars:[],autoplay:!1,loading:!0}},created:function(){var t=this;this.$store.getters.cars&&this.$store.getters.cars.length>0?(this.cars=this.$store.getters.cars,this.loading=!1):this.$http.get("/api/v1/featured-cars").then(function(e){t.cars=e.data.data,t.$store.commit("setCars",t.cars),console.log(e.data.data),t.loading=!1}).catch(function(t){console.log(t)})},methods:{selectCar:function(t){this.$store.commit("setCar",t),this.$router.push({name:"View-Car",params:{id:t.car_id}})},test:function(){ge.$emit("login")},Refresh:function(){var t=this;this.$http.get("/api/v1/featured-cars").then(function(e){t.cars=e.data.data,t.$store.commit("setCars",t.cars),console.log(e.data.data),t.loading=!1}).catch(function(t){console.log(t)})}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("h3",[t._v("Featured Cars")]),t._v(" "),a("el-carousel",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"carousel",attrs:{"indicator-position":"none",arrow:"always",autoplay:!1}},t._l(t.cars.length,function(e){return a("el-carousel-item",{key:e},[a("div",{staticClass:"overlay",attrs:{class:"overlay"},on:{click:function(a){t.selectCar(t.cars[e-1])}}},[a("my-img",{attrs:{image_url:t.cars[e-1].car_id}})],1)])})),t._v(" "),a("div",{staticClass:"spacing"},[a("el-button",{on:{click:t.Refresh}},[t._v("Refresh")])],1)],1)},staticRenderFns:[]};var y=a("VU/8")(b,w,!1,function(t){a("GIGI")},null,null).exports,$={data:function(){return{have_photo:!1,step:0,transmissions:[{value:"manual",label:"Manual"},{value:"automatic",label:"Automatic"}],engines:[{value:"4",label:"4 Cylinder"},{value:"6",label:"6 Cylinder"},{value:"8",label:"8 Cylinder"},{value:"10",label:"10 Cylinder"},{value:"12",label:"12 Cylinder"}],fuel_type:[{value:"diesel",label:"Diesel"},{value:"petrol",label:"Petrol"}],drive_type:[{value:"2",label:"2WD"},{value:"4",label:"4WD"}],car_type:[{value:"luxury",label:"Luxury"},{value:"new",label:"New"},{value:"old",label:"Old"},{value:"rent",label:"Rent"}],imageUrl:"",form:{name:"",price:"",description:"",brand:"",model:"",year:"",transmission:"",engine:"",mileage:"",fuel:"",type:"",drive_train:"",file:""},rules:{name:[{required:!0,message:"This field is required",trigger:"changed|blur"}],price:[{required:!0,message:"This field is required",trigger:"changed|blur"}],description:[{required:!0,message:"This field is required",trigger:"changed|blur"}],brand:[{required:!0,message:"This field is required",trigger:"changed|blur"}],model:[{required:!0,message:"This field is required",trigger:"changed|blur"}],year:[{required:!0,message:"This field is required",trigger:"changed|blur"}],transmission:[{required:!0,message:"This field is required",trigger:"changed|blur"}],engine:[{required:!0,message:"This field is required",trigger:"changed|blur"}],mileage:[{required:!0,message:"This field is required",trigger:"changed|blur"}],fuel:[{required:!0,message:"This field is required",trigger:"changed|blur"}],drive_train:[{required:!0,message:"This field is required",trigger:"changed|blur"}]},fileData:{car_id:""}}},created:function(){var t=window.location.hostname+":"+window.location.port;this.upload_url="http://"+t+"/api/v1/upload-photo"},methods:{onSubmit:function(){var t=this;this.have_photo?(console.log(this.form),this.$auth.post("/api/v1/add-car",this.form).then(function(e){t.$notify({title:"Car",message:e.data.message,type:e.data.status}),t.$http.get("/api/v1/get-cars").then(function(e){t.cars=e.data.data,t.$store.commit("setCars",t.cars)}).catch(function(t){422==t.response.status&&ge.$emit("login"),console.log(t)}),console.log(t.fileData),console.log(e.data.data.car_id),t.fileData.car_id=e.data.data.car_id,t.$refs.upload.submit(),t.$http.get("/api/v1/get-car/"+e.data.data.car_id).then(function(e){t.$store.commit("setCar",e.data.data),t.$router.push({name:"View-Car",params:e.data.data.car_id})})})):this.$notify.info({title:"Image",message:"Please add a Featured Image"})},handleAvatarSuccess:function(t,e){console.log("upload successful"),console.log(t.data.data),console.log("upload successful"),this.$router.push({name:"View-Car"})},beforeAvatarUpload:function(t){this.imageUrl=URL.createObjectURL(t.raw);var e="image/jpeg"===t.type,a=t.size/1024/1024<2;return e||this.$message.error("Avatar picture must be JPG format!"),a||this.$message.error("Avatar picture size can not exceed 2MB!"),e&&a},onChanged:function(t,e){this.imageUrl=URL.createObjectURL(t.raw),this.form.file=t.raw,this.have_photo=!0,console.log(this.car)},onSubmitTest:function(){console.log(this.form)},move:function(){this.step<3?this.step++:this.step=0}}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticStyle:{"max-width":"900px","padding-right":"20px"}},[a("el-steps",{attrs:{active:t.step,"finish-status":"success"}},[a("el-step",{attrs:{title:"Step 1"}}),t._v(" "),a("el-step",{attrs:{title:"Step 2"}}),t._v(" "),a("el-step",{attrs:{title:"Step 3"}}),t._v(" "),a("el-step",{attrs:{title:"Image"}})],1),t._v(" "),0==t.step?a("div",{staticClass:"step-container"},[a("h1",[t._v("Step 1")]),t._v(" "),a("el-form",{attrs:{"label-position":"left",model:t.form,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Name",prop:"name"}},[a("el-input",{attrs:{placeholder:"Name *"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Price",prop:"price"}},[a("el-input",{model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Brand",prop:"brand"}},[a("el-input",{model:{value:t.form.brand,callback:function(e){t.$set(t.form,"brand",e)},expression:"form.brand"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Model",prop:"model"}},[a("el-input",{model:{value:t.form.model,callback:function(e){t.$set(t.form,"model",e)},expression:"form.model"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Year",prop:"year"}},[a("el-date-picker",{staticClass:"w-100",attrs:{format:"yyyy","value-format":"yyyy,MM,dd",type:"year",placeholder:"Pick a year"},model:{value:t.form.year,callback:function(e){t.$set(t.form,"year",e)},expression:"form.year"}})],1)],1)],1):t._e(),t._v(" "),1==t.step?a("div",{staticClass:"step-container"},[a("h1",[t._v("Step 2")]),t._v(" "),a("el-form",{attrs:{"label-position":"left",model:t.form,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Transmission",prop:"transmission"}},[a("el-select",{staticClass:"w-100",attrs:{placeholder:"Transmission"},model:{value:t.form.transmission,callback:function(e){t.$set(t.form,"transmission",e)},expression:"form.transmission"}},t._l(t.transmissions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Engine",prop:"engine"}},[a("el-select",{staticClass:"w-100",attrs:{placeholder:"Cylinder"},model:{value:t.form.engine,callback:function(e){t.$set(t.form,"engine",e)},expression:"form.engine"}},t._l(t.engines,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Mileage",prop:"mileage"}},[a("el-input",{model:{value:t.form.mileage,callback:function(e){t.$set(t.form,"mileage",e)},expression:"form.mileage"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Fuel",prop:"fuel"}},[a("el-select",{staticClass:"w-100",attrs:{placeholder:"Fuel"},model:{value:t.form.fuel,callback:function(e){t.$set(t.form,"fuel",e)},expression:"form.fuel"}},t._l(t.fuel_type,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Type",prop:"type"}},[a("el-select",{staticClass:"w-100",attrs:{placeholder:"Type of car"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.car_type,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1)],1):t._e(),t._v(" "),2==t.step?a("div",{staticClass:"step-container"},[a("h1",[t._v("Step 3")]),t._v(" "),a("el-form",{attrs:{"label-position":"left",model:t.form,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Drive Train",prop:"drive_train"}},[a("el-select",{staticClass:"w-100",attrs:{placeholder:"Drive Train"},model:{value:t.form.drive_train,callback:function(e){t.$set(t.form,"drive_train",e)},expression:"form.drive_train"}},t._l(t.drive_type,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Description",prop:"description"}},[a("el-input",{attrs:{type:"textarea",rows:8},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1)],1):t._e(),t._v(" "),3==t.step?a("div",{staticClass:"step-container"},[a("h1",[t._v("Images")]),t._v(" "),a("h3",{staticClass:"mt-0"},[t._v("Featured Image")]),t._v(" "),a("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:t.upload_url,"show-file-list":!1,"on-change":t.onChanged,"auto-upload":!1,data:t.fileData,"on-success":t.handleAvatarSuccess}},[t.imageUrl?a("img",{staticClass:"avatar",attrs:{src:t.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):t._e(),t._v(" "),a("div",{staticClass:"btn-container"},[t.step>0?a("el-button",{on:{click:function(e){t.step--}}},[t._v("Previous")]):t._e(),t._v(" "),t.step<3?a("el-button",{on:{click:t.move}},[t._v("next")]):t._e(),t._v(" "),3==t.step?a("el-button",{on:{click:t.onSubmit}},[t._v("Save")]):t._e()],1)],1)])},staticRenderFns:[]};var k=a("VU/8")($,C,!1,function(t){a("hKja")},null,null).exports,x={components:{"my-img":_},data:function(){return{id:this.$route.params.id,car:{},image:"image",owner:{username:"",location:""},profile_url:"",flagForm:{flagger:"",flag_reason:"",car_id:""},flagDialog:!1}},created:function(){var t=this,e=window.location.host;console.log(this.$route.params.id),this.$http.get("/api/v1/get-car/"+this.$route.params.id).then(function(a){t.car=a.data.data,t.owner=t.car.owner,console.log(a.data),t.profile_url="http://"+e+"/api/v1/get-profile-pic/"+t.car.owner.id,console.log(e),console.log(t.car.owner.id),console.log(t.profile_url)}).catch(function(t){console.log(t.response)}),console.log("Created")},methods:{carTable:function(t){return[{label:"Brand",value:t.brand},{label:"Model",value:t.model},{label:"Price",value:"D"+t.price},{label:"Year",value:t.year},{label:"Transmission",value:t.transmission},{label:"Engine",value:t.engine+" Cylinder"},{label:"Mileage",value:t.mileage},{label:"Type",value:this.capitalize(t.type)},{label:"Fuel",value:t.fuel},{label:"Drive Train",value:t.drive_train+"WD"}]},Edit:function(){this.$store.commit("setCar",this.car),this.$router.push({name:"Edit-Car"})},capitalize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.charAt(0).toUpperCase()+t.slice(1)},flag:function(){var t=this;this.flagForm.car_id=this.car.car_id,""!=this.flagForm.flag_reason&&""!=this.flagForm.flagger?(this.$http.post("/api/v1/flag/",this.flagForm).then(function(e){"success"==e.data.status?t.$notify.success({title:"Flag Report",message:"You have raise a flag report for "+t.car.name+".\nYou will be contact for more details"}):t.$notify.error({title:"Flag Report",message:e.data.message})}),this.flagDialog=!1):this.$notify.error({title:"Error",message:"Please fill in your reason"})},ViewProfile:function(){this.$router.push({name:"UserProfile",params:{id:this.car.owner.id}})}}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-container"},[a("div",{staticClass:"grid-md-8 mb-10"},[a("div",{},[a("el-tabs",{staticClass:"relative",attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"Image"}},[a("div",{staticClass:"tab"},[a("p",{staticStyle:{"font-style":"bold"}},[t._v(t._s(t.car.name))]),t._v(" "),a("my-img",{attrs:{image_url:t.id}})],1)]),t._v(" "),a("el-tab-pane",{attrs:{label:"Specification"}},[a("div",{staticClass:"tab"},[a("el-table",{staticClass:"car-table",staticStyle:{width:"100%"},attrs:{data:t.carTable(t.car)}},[a("el-table-column",{attrs:{prop:"label",label:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"value",label:""}})],1)],1)]),t._v(" "),a("el-tab-pane",{attrs:{label:"Description"}},[a("div",{staticClass:"tab"},[a("p",[t._v(t._s(t.car.description))])])])],1)],1)]),t._v(" "),a("div",{staticClass:"grid-md-4 mb-10 mt-10"},[a("el-card",{staticClass:"box-card"},[a("div",{},[a("div",{},[a("p",[t._v(t._s(t.owner.username))]),t._v(" "),a("el-button",{on:{click:t.ViewProfile}},[t._v("View Profile")])],1)]),t._v(" "),a("el-button",{staticStyle:{"margin-top":"10px"},on:{click:function(e){t.flagDialog=!0}}},[t._v("Flag")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"Flag",visible:t.flagDialog,width:"50%"},on:{"update:visible":function(e){t.flagDialog=e}}},[a("p",[t._v("Please enter your reason for flagging this car please")]),t._v(" "),a("el-input",{staticStyle:{"margin-bottom":"10px"},attrs:{placeholder:"Email"},model:{value:t.flagForm.flagger,callback:function(e){t.$set(t.flagForm,"flagger",e)},expression:"flagForm.flagger"}}),t._v(" "),a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"Reason"},model:{value:t.flagForm.flag_reason,callback:function(e){t.$set(t.flagForm,"flag_reason",e)},expression:"flagForm.flag_reason"}}),t._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.flag}},[t._v("Flag")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.flagDialog=!1}}},[t._v("Cancel")])],1)],1)],1)},staticRenderFns:[]};var S=a("VU/8")(x,U,!1,function(t){a("4Fgz")},null,null).exports,D={data:function(){return{have_photo:!0,step:0,car:{},transmissions:[{value:"manual",label:"Manual"},{value:"automatic",label:"Automatic"}],engines:[{value:"4",label:"4 Cylinder"},{value:"6",label:"6 Cylinder"},{value:"8",label:"8 Cylinder"},{value:"10",label:"10 Cylinder"},{value:"12",label:"12 Cylinder"}],fuel_type:[{value:"diesel",label:"Diesel"},{value:"petrol",label:"Petrol"}],drive_type:[{value:"2",label:"2WD"},{value:"4",label:"4WD"}],car_type:[{value:"luxury",label:"Luxury"},{value:"new",label:"New"},{value:"old",label:"Old"},{value:"rent",label:"Rent"}],imageUrl:"",fileData:{car_id:""}}},created:function(){var t=window.location.hostname+":"+window.location.port;this.upload_url="http://"+t+"/api/v1/upload-photo",this.car=this.$store.getters.car,this.imageUrl="http://"+t+"/api/v1/get-photo/"+this.car.card_id},methods:{onSubmit:function(){var t=this;this.have_photo?(console.log(this.car),this.$auth.post("/api/v1/edit-car",this.car).then(function(e){t.$notify({title:"Car",message:e.data.message,type:e.data.status}),t.$http.get("/api/v1/get-cars").then(function(e){t.cars=e.data.data,t.$store.commit("setCars",t.cars)}).catch(function(t){console.log(t.response)})}).catch(function(t){console.log(t.response),401==t.response.status?ge.$emit("login"):422==t.response.status&&ge.$emit("login")})):this.$notify.info({title:"Image",message:"Please add a Featured Image"})},handleAvatarSuccess:function(t,e){console.log("upload successful"),console.log(t.data.data),console.log("upload successful"),this.$router.push({name:"View-Car"})},beforeAvatarUpload:function(t){this.imageUrl=URL.createObjectURL(t.raw);var e="image/jpeg"===t.type,a=t.size/1024/1024<2;return e||this.$message.error("Avatar picture must be JPG format!"),a||this.$message.error("Avatar picture size can not exceed 2MB!"),e&&a},onChanged:function(t,e){this.imageUrl=URL.createObjectURL(t.raw),this.fileData.car_id=this.car.car_id,this.$refs.upload.submit()},onSubmitTest:function(){console.log(this.form)},move:function(){this.step<3?this.step++:this.step=0}}},P={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("div",{staticStyle:{"max-width":"900px","padding-right":"20px"}},[a("el-steps",{attrs:{active:t.step,"finish-status":"success"}},[a("el-step",{attrs:{title:"Step 1"}}),t._v(" "),a("el-step",{attrs:{title:"Step 2"}}),t._v(" "),a("el-step",{attrs:{title:"Step 3"}}),t._v(" "),a("el-step",{attrs:{title:"Image"}})],1),t._v(" "),0==t.step?a("div",{staticClass:"step-container"},[a("h1",[t._v("Step 1")]),t._v(" "),a("el-form",{attrs:{"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"Name",prop:"name"}},[a("el-input",{attrs:{placeholder:""},model:{value:t.car.name,callback:function(e){t.$set(t.car,"name",e)},expression:"car.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Price",prop:"price"}},[a("el-input",{model:{value:t.car.price,callback:function(e){t.$set(t.car,"price",e)},expression:"car.price"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Brand",prop:"brand"}},[a("el-input",{model:{value:t.car.brand,callback:function(e){t.$set(t.car,"brand",e)},expression:"car.brand"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Model",prop:"model"}},[a("el-input",{model:{value:t.car.model,callback:function(e){t.$set(t.car,"model",e)},expression:"car.model"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Year",prop:"year"}},[a("el-date-picker",{staticClass:"w-100",attrs:{format:"yyyy","value-format":"yyyy,MM,dd",type:"year",placeholder:"Pick a year"},model:{value:t.car.year,callback:function(e){t.$set(t.car,"year",e)},expression:"car.year"}})],1)],1)],1):t._e(),t._v(" "),1==t.step?a("div",{staticClass:"step-container"},[a("h1",[t._v("Step 2")]),t._v(" "),a("el-form",{attrs:{"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"Transmission",prop:"transmission"}},[a("el-select",{staticClass:"w-100",attrs:{placeholder:"Transmission"},model:{value:t.car.transmission,callback:function(e){t.$set(t.car,"transmission",e)},expression:"car.transmission"}},t._l(t.transmissions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Engine",prop:"engine"}},[a("el-select",{staticClass:"w-100",attrs:{placeholder:"Cylinder"},model:{value:t.car.engine,callback:function(e){t.$set(t.car,"engine",e)},expression:"car.engine"}},t._l(t.engines,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Mileage",prop:"mileage"}},[a("el-input",{model:{value:t.car.mileage,callback:function(e){t.$set(t.car,"mileage",e)},expression:"car.mileage"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Fuel",prop:"fuel"}},[a("el-select",{staticClass:"w-100",attrs:{placeholder:"Fuel"},model:{value:t.car.fuel,callback:function(e){t.$set(t.car,"fuel",e)},expression:"car.fuel"}},t._l(t.fuel_type,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Type",prop:"type"}},[a("el-select",{staticClass:"w-100",attrs:{placeholder:"Type of car"},model:{value:t.car.type,callback:function(e){t.$set(t.car,"type",e)},expression:"car.type"}},t._l(t.car_type,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1)],1):t._e(),t._v(" "),2==t.step?a("div",{staticClass:"step-container"},[a("h1",[t._v("Step 3")]),t._v(" "),a("el-form",{attrs:{"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"Drive Train",prop:"drive_train"}},[a("el-select",{staticClass:"w-100",attrs:{placeholder:"Drive Train"},model:{value:t.car.drive_train,callback:function(e){t.$set(t.car,"drive_train",e)},expression:"car.drive_train"}},t._l(t.drive_type,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"Description",prop:"description"}},[a("el-input",{attrs:{type:"textarea",rows:8},model:{value:t.car.description,callback:function(e){t.$set(t.car,"description",e)},expression:"car.description"}})],1)],1)],1):t._e(),t._v(" "),3==t.step?a("div",{staticClass:"step-container"},[a("h3",[t._v("Images")]),t._v(" "),a("div",{},[a("img",{attrs:{src:t.imageUrl,alt:"Car image"}})]),t._v(" "),a("el-upload",{ref:"upload",attrs:{action:t.upload_url,"show-file-list":!1,"on-change":t.onChanged,"auto-upload":!1,data:t.fileData,"on-success":t.handleAvatarSuccess}},[a("el-button",{staticClass:"mb-10",attrs:{size:"small",type:"primary"}},[t._v("Update Image")])],1)],1):t._e(),t._v(" "),a("div",{staticClass:"btn-container"},[t.step>0?a("el-button",{on:{click:function(e){t.step--}}},[t._v("Previous")]):t._e(),t._v(" "),t.step<3?a("el-button",{on:{click:t.move}},[t._v("next")]):t._e(),t._v(" "),3==t.step?a("el-button",{on:{click:t.onSubmit}},[t._v("Save")]):t._e()],1)],1)])},staticRenderFns:[]};var R=a("VU/8")(D,P,!1,function(t){a("4iHF")},null,null).exports,E={props:["car"],data:function(){return{image_url:"",show:!0}},created:function(){var t=window.location.hostname+":"+window.location.port;this.image_url="http://"+t+"/api/v1/get-image-by-id/"+this.car.car_id},methods:{Edit:function(t){this.$store.commit("setCar",t),this.$router.push({name:"Edit-Car"})},Delete:function(t){var e=this;console.log(t),this.$auth.delete("/delete-car/"+this.car.car_id).then(function(t){console.log(t),e.$notify({title:"Deletion",message:t.data.message,type:t.data.status}),e.show=!1}).catch(function(t){401==error.response.status?ge.$emit("login"):422==error.response.status&&ge.$emit("login")})},View:function(t){console.log(t.car_id),this.$router.push("/my-car/"+t.car_id)}}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"car-card"},[a("div",{},[a("div",{},[a("img",{staticClass:"img",attrs:{src:t.image_url,alt:""}})]),t._v(" "),a("div",{staticStyle:{margin:"20px 0px"}},[t._v("\n        "+t._s(t.car.name)+"\n      ")]),t._v(" "),a("div",{},[a("el-button",{on:{click:function(e){t.Edit(t.car)}}},[t._v("Edit")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.View(t.car)}}},[t._v("View")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.Delete(t.car)}}},[t._v("Delete")])],1)])])},staticRenderFns:[]};var A={components:{"my-img":_,car:a("VU/8")(E,F,!1,function(t){a("xP5M")},null,null).exports},data:function(){return{user:{},cars:[],no_car:!0}},created:function(){var t=this;if(!this.$auth.isAuthenticated())return this.$router.push("/view-cars"),void this.$notify.error({title:"Forbidden",message:"Please login to access this page"});this.user=this.$store.getters.user,this.$auth.get("/my-cars/").then(function(e){t.cars=e.data.data,console.log(e.data.data),t.no_car=!1}).catch(function(t){401==error.response.status?bus.$emit("login"):422==error.response.status&&bus.$emit("login")})},methods:{Edit:function(t){this.$store.commit("setCar",t),this.$router.push({name:"Edit-Car"})},View:function(t){console.log(t),this.$router.push("/my-car/"+t)},Delete:function(t){this.cars.splice(t,1)}}},V={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("hr"),t._v(" "),a("div",{staticClass:" flex-container"},[t._l(t.cars.length,function(e){return a("car",{key:e,attrs:{car:t.cars[e-1]}})}),t._v(" "),t.no_car?a("div",{},[a("p",[t._v("You haven't added any cars yet...s")])]):t._e()],2)])},staticRenderFns:[]};var T=a("VU/8")(A,V,!1,function(t){a("bEKX")},null,null).exports,L={components:{"my-img":_},data:function(){return{id:this.$route.params.id,car:{},image:"image"}},created:function(){var t=this;this.$http.get("/api/v1/get-car/"+this.$route.params.id).then(function(e){t.car=e.data.data}).catch(function(t){console.log(t.data)}),console.log("Created")},methods:{carTable:function(t){return[{label:"Brand",value:t.brand},{label:"Model",value:t.model},{label:"Price",value:"D"+t.price},{label:"Year",value:t.year},{label:"Transmission",value:t.transmission},{label:"Engine",value:t.engine+" Cylinder"},{label:"Mileage",value:t.mileage},{label:"Type",value:this.capitalize(t.type)},{label:"Fuel",value:t.fuel},{label:"Drive Train",value:t.drive_train+"WD"}]},Edit:function(){this.$store.commit("setCar",this.car),this.$router.push({name:"Edit-Car"})},capitalize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.charAt(0).toUpperCase()+t.slice(1)},flag:function(){this.$notify.success({title:"Flag Report",message:"You have raise a flag report for "+this.car.name+".\nYou will be contact for more details"})},ViewProfile:function(){this.$router.push({name:"UserProfile",params:{id:this.car.owner.id}})}}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-container"},[a("div",{staticClass:"grid-md-8 mb-10"},[a("div",{},[a("el-tabs",{staticClass:"relative",attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"Image"}},[a("div",{staticClass:"tab"},[a("p",{staticStyle:{"font-style":"bold"}},[t._v(t._s(t.car.name))]),t._v(" "),a("my-img",{attrs:{image_url:t.id}})],1)]),t._v(" "),a("el-tab-pane",{attrs:{label:"Specification"}},[a("div",{staticClass:"tab"},[a("el-table",{staticClass:"car-table",staticStyle:{width:"100%"},attrs:{data:t.carTable(t.car)}},[a("el-table-column",{attrs:{prop:"label",label:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"value",label:""}})],1)],1)]),t._v(" "),a("el-tab-pane",{attrs:{label:"Description"}},[a("div",{staticClass:"tab"},[a("p",[t._v(t._s(t.car.description))])])])],1)],1)])])},staticRenderFns:[]};var z=a("VU/8")(L,M,!1,function(t){a("wRhZ")},null,null).exports,I={components:{"my-img":_},data:function(){return{car_type:"",cars:[]}},watch:{"$route.params.id":function(t){var e=this;this.car_type=t,this.$http.get("/api/v1/get-cars/"+this.car_type).then(function(t){e.cars=[],e.cars=t.data.data})}},created:function(){var t=this;this.car_type=this.$route.params.id,this.$http.get("/api/v1/get-cars/"+this.car_type).then(function(e){t.cars=e.data.data})},methods:{selectCar:function(t){this.$store.commit("setCar",t),this.$router.push({name:"View-Car",params:{id:t.car_id}})},Refresh:function(){var t=this;this.car_type=this.$route.params.id,this.$http.get("/api/v1/get-cars/"+this.car_type).then(function(e){t.cars=e.data.data})}}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("h3",[t._v(t._s(t._f("capitalize")(t.car_type))+" Cars")]),t._v(" "),a("el-button",{on:{click:t.Refresh}},[t._v("Refresh")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"flex-container"},t._l(t.cars.length,function(e){return a("el-card",{key:e,staticClass:"car-card relative",staticStyle:{"margin-bottom":"10px"},attrs:{label:e}},[a("div",{staticClass:"overlay",on:{click:function(a){t.selectCar(t.cars[e-1])}}},[a("div",{staticClass:"car-content"},[a("my-img",{attrs:{image_url:t.cars[e-1].car_id}}),t._v(" "),a("div",{staticStyle:{margin:"20px"}},[a("h4",[t._v(t._s(t.cars[e-1].name))])])],1),t._v(" "),a("div",{staticClass:"details"},[a("h3",[t._v("Price: D"+t._s(t.cars[e-1].price))]),t._v(" "),a("h3",[t._v("Brand: "+t._s(t.cars[e-1].brand))]),t._v(" "),a("h3",[t._v("Year: "+t._s(t.cars[e-1].year))])])])])}))],1)},staticRenderFns:[]};var B=a("VU/8")(I,O,!1,function(t){a("cpB+")},null,null).exports,q={data:function(){return{password:"",email:"",loading:!1}},methods:{cancel:function(){this.$router.push("/view-cars")},login:function(){var t=this;this.loading=!0,this.$auth.login({email:this.email,password:this.password}).then(function(e){"success"==e.data.status?(t.$auth.setTokens(e.data,t.$ls),"individual"==e.data.data.account_type?t.$router.push("/my-cars"):"admin"==e.data.data.account_type?t.$router.push("/admin-cars"):t.$router.push("/view-cars"),t.$notify.success({title:" Login",message:e.data.message,type:e.data.status}),console.log(e.data.data.account_type),t.$store.commit("setUser",e.data.data)):t.$notify.success({title:" Login",message:e.data.message,type:e.data.status})}).catch(function(t){console.log(t)}),this.loading=!1}}},Y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("el-card",[a("h3",[t._v("Sign In")]),t._v(" "),a("el-input",{staticClass:"spacing",attrs:{placeholder:"Email",clearable:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),a("el-input",{staticClass:"spacing",attrs:{placeholder:"Password",type:"password",clearable:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),a("el-button",{staticClass:"spacing",attrs:{type:"success",loading:t.loading},on:{click:function(e){t.login()}}},[t._v("Login ")]),t._v(" "),a("el-button",{staticClass:"spacing",attrs:{type:"danger"},on:{click:t.cancel}},[t._v("Cancel")]),t._v(" "),a("p",{staticClass:"spacing"},[t._v("If You don't have an account? You can create one "),a("router-link",{attrs:{to:{name:"Register",params:{}}}},[t._v("here!")])],1)],1)],1)},staticRenderFns:[]};var H=a("VU/8")(q,Y,!1,function(t){a("yFTK")},null,null).exports,N={data:function(){return{loading:!1,form:{password:"",password_confirm:"",email:"",username:""}}},methods:{Register:function(){var t=this;this.form.password==this.form.password_confirm?this.$http.post("/api/v1/sign-up",this.form).then(function(e){t.$notify({title:"Sign Up",message:e.data.message,type:e.data.status}),t.$router.push("/login")}).catch(function(t){console.log(t.data)}):this.$notify({title:"Error",message:"Passwords do not match",type:"error"}),console.log(this.form)},cancel:function(){this.$router.push("/view-cars")}}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("el-card",[a("h3",[t._v("Register")]),t._v(" "),a("el-input",{staticClass:"spacing",attrs:{placeholder:"Email",clearable:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),t._v(" "),a("el-input",{staticClass:"spacing",attrs:{placeholder:"username",clearable:""},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}}),t._v(" "),a("el-input",{staticClass:"spacing",attrs:{placeholder:"Password",type:"password",clearable:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),t._v(" "),a("el-input",{staticClass:"spacing",attrs:{placeholder:"Confirm Password",type:"password",clearable:""},model:{value:t.form.password_confirm,callback:function(e){t.$set(t.form,"password_confirm",e)},expression:"form.password_confirm"}}),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.form.password&&t.form.username&&t.form.password==t.form.password_confirm&&t.form.email,expression:"form.password && form.username && form.password == form.password_confirm && form.email"}],staticClass:"spacing",attrs:{type:"success",loading:t.loading},on:{click:function(e){t.Register()}}},[t._v("Register")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.cancel}},[t._v("Cancel")])],1)],1)},staticRenderFns:[]};var J=a("VU/8")(N,j,!1,function(t){a("DlJm")},null,null).exports,W={components:{"my-img":Image},data:function(){return{url:"",user:{},cars:[],imageUrl:"",fileData:{user_id:""}}},created:function(){this.user=this.$store.getters.user,this.url=window.location.host,this.upload_url="http://"+this.url+"/api/v1/upload-profile",this.imageUrl="http://"+this.url+"/api/v1/get-profile-pic/"+this.user.id},methods:{handleAvatarSuccess:function(t,e){console.log("[*] Success"),console.log(e),console.log(t.data),this.imageUrl=URL.createObjectURL(e.raw)},onChanged:function(t,e){console.log("File"),console.log(t),console.log("fileList"),console.log(e),this.fileData.user_id=this.user.id,this.$refs.upload.submit()},EditProfile:function(){this.$router.push({name:"EditProfile"})}}},G={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"profile"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"flex-container"},[a("div",{},[a("h2",[t._v(t._s(t.user.username))]),t._v(" "),a("h4",[t._v(t._s(t.user.email))]),t._v(" "),a("h4",[t._v(t._s(t.user.contact))]),t._v(" "),a("el-button",{on:{click:t.EditProfile}},[t._v("Edit Profile")])],1)])])],1)},staticRenderFns:[]};var K=a("VU/8")(W,G,!1,function(t){a("uMJP")},null,null).exports,X={components:{"my-img":Image},data:function(){return{url:"",user:{},cars:[],imageUrl:"",fileData:{user_id:""}}},created:function(){this.user=this.$store.getters.user,this.url=window.location.host,this.upload_url="http://"+this.url+"/api/v1/upload-profile",this.imageUrl="http://"+this.url+"/api/v1/get-profile-pic/"+this.user.id},methods:{handleAvatarSuccess:function(t,e){console.log("[*] Success"),console.log(e),console.log(t.data),this.imageUrl=URL.createObjectURL(e.raw)},onChanged:function(t,e){this.fileData.user_id=this.user.id,this.$refs.upload.submit()},submit:function(){var t=this;this.$auth.post("/api/v1/edit-profile",this.user).then(function(e){t.$notify.success({title:"Profile",message:e.data.message}),t.$store.commit("setUser",e.data.data),t.$router.push("/my-profile"),console.log(e.data.data)}).ctach(function(t){401==error.response.status?ge.$emit("login"):422==error.response.status&&ge.$emit("login")})}}},Z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"flex-container"},[a("div",{staticStyle:{width:"100%"}},[a("div",{staticClass:"flex-container"},[a("h4",[t._v("Username")]),t._v(" "),a("el-input",{attrs:{placeholder:"Username"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),t._v(" "),a("div",{staticClass:"flex-container"},[a("h4",[t._v("Email")]),t._v(" "),a("el-input",{attrs:{placeholder:"Email"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),t._v(" "),a("div",{staticClass:"flex-container"},[a("h4",[t._v("Password")]),t._v(" "),a("el-input",{attrs:{placeholder:"Password",type:"password"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),t._v(" "),a("div",{staticClass:"flex-container"},[a("h4",[t._v("Comfirm Password")]),t._v(" "),a("el-input",{attrs:{placeholder:"Comfirm Password",type:"password"},model:{value:t.user.comfirm_password,callback:function(e){t.$set(t.user,"comfirm_password",e)},expression:"user.comfirm_password"}})],1),t._v(" "),a("div",{staticClass:"flex-container"},[a("h4",[t._v("Contact")]),t._v(" "),a("el-input",{attrs:{placeholder:"Contact"},model:{value:t.user.contact,callback:function(e){t.$set(t.user,"contact",e)},expression:"user.contact"}})],1),t._v(" "),a("el-button",{staticClass:"mt-10",on:{click:t.submit}},[t._v("Save Profile")])],1)])])],1)},staticRenderFns:[]};var Q=a("VU/8")(X,Z,!1,function(t){a("riET")},null,null).exports,tt={components:{"my-img":_},data:function(){return{url:"",user:{},cars:[],imageUrl:""}},created:function(){var t=this;this.url=window.location.host,this.imageUrl="http://"+this.url+"/api/v1/get-profile-pic/"+this.$route.params.id,this.$http.get("/api/v1/get-profile/"+this.$route.params.id).then(function(e){t.user=e.data.data,console.log(t.user),t.$http.get("api/v1/user-cars/"+t.user.id).then(function(e){t.cars=e.data.data})})},methods:{View:function(t){this.$router.push({name:"View-Car",params:{id:t}})}}},et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:" info"},[a("h2",[t._v("Username: "+t._s(t.user.username))]),t._v(" "),a("h4",[t._v("Email: "+t._s(t.user.email))]),t._v(" "),a("h4",[t._v("Tel: "+t._s(t.user.contact))])])]),t._v(" "),a("hr"),t._v(" "),a("h3",[t._v(t._s(t.user.username)+"'s Cars")]),t._v(" "),a("div",{staticClass:"flex-container"},t._l(t.cars.length,function(e){return a("el-card",{key:e,staticClass:"car-card",staticStyle:{"margin-bottom":"10px"},attrs:{label:e}},[a("div",{},[a("div",{staticClass:"car-content"},[a("my-img",{attrs:{image_url:t.cars[e-1].car_id}}),t._v(" "),a("div",{staticStyle:{margin:"20px"}},[a("h4",[t._v(t._s(t.cars[e-1].name))])])],1),t._v(" "),a("div",{},[a("el-button",{attrs:{type:"primary"},on:{click:function(a){t.View(t.cars[e-1].car_id)}}},[t._v("View")])],1)])])}))],1)},staticRenderFns:[]};var at=a("VU/8")(tt,et,!1,function(t){a("VJ7Z")},null,null).exports,st=a("aYpo"),it={components:{VueEditor:st.VueEditor},data:function(){return{have_photo:!1,post:{content:"",title:"",published:!1,image_url:""},form:new FormData,post_id:""}},created:function(){this.upload_url="http://"+window.location.host+"/api/v1/upload-photo",this.upload_url="http://localhost:5000/api/v1/photo-test"},methods:{handleImageAdded:function(t,e,a,s){var i=this,n=new FormData;n.append("file",t),n.append("title",this.post.title),n.append("id",this.post_id),this.$http.post("/api/v1/upload-post-photo",n).then(function(t){console.log(t.data.data);var n="http://"+window.location.host+"/api/v1/get-image/"+t.data.data;console.log(n),i.post_id=t.data.post_id,e.insertEmbed(a,"image",n),s()}).catch(function(t){console.log(t)})},Save:function(){var t=this;if(this.have_photo){if(this.post.content&&this.post.title)return this.form.append("content",this.post.content),this.form.append("title",this.post.title),this.form.append("published",this.post.published),void this.$auth.post("/add-post",this.form).then(function(e){if("success"==e.data.status)return t.$notify.success({title:"Post",message:"Post save"}),void t.$router.push("/admin-posts");t.$notify.error({title:"Post",message:"Error Occurred"})}).catch(function(t){422==t.response.status&&ge.$emit("login")});this.$notify.error({title:"Post",message:"Please fill in all the fields"})}},Cancel:function(){this.$router.push("/admin-posts")},beforeAvatarUpload:function(t){this.post.image_url=URL.createObjectURL(t.raw);var e="image/jpeg"===t.type,a=t.size/1024/1024<2;return e||this.$message.error("Avatar picture must be JPG format!"),a||this.$message.error("Avatar picture size can not exceed 2MB!"),e&&a},onChanged:function(t,e){this.post.image_url=URL.createObjectURL(t.raw),this.form.append("file",t.raw),this.form.append("pic_name",t.name),this.have_photo=!0},handleAvatarSuccess:function(t,e){}},computed:{markdownText:function(){return marked(this.post.content,{sanitize:!0})}}},nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-container"},[a("div",{},[a("h4",[t._v("Title")]),t._v(" "),a("div",{staticClass:"editor-pane"},[a("el-input",{attrs:{placeholder:"Title"},model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}})],1),t._v(" "),a("h4",[t._v("Content")]),t._v(" "),a("div",{staticClass:"editor-pane"},[a("vue-editor",{attrs:{useCustomImageHandler:"",placeholder:"Content"},on:{imageAdded:t.handleImageAdded},model:{value:t.post.content,callback:function(e){t.$set(t.post,"content",e)},expression:"post.content"}})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("div",{},[a("el-checkbox",{model:{value:t.post.published,callback:function(e){t.$set(t.post,"published",e)},expression:"post.published"}},[a("h4",[t._v("Publish")])])],1),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.Save}},[t._v("Save")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.Cancel}},[t._v("Cancel")])],1)]),t._v(" "),a("div",{staticStyle:{"margin-left":"10px","max-width":"300px"}},[a("h4",[t._v("Feature Image")]),t._v(" "),a("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:t.upload_url,"show-file-list":!1,"on-change":t.onChanged,"auto-upload":!1,"on-success":t.handleAvatarSuccess}},[a("el-button",[t._v("Select File")])],1),t._v(" "),a("div",{staticClass:"mt-10"},[t.post.image_url?a("img",{staticClass:"avatar",staticStyle:{width:"100%"},attrs:{src:t.post.image_url}}):t._e()])],1)])},staticRenderFns:[]};var rt=a("VU/8")(it,nt,!1,function(t){a("MMfF")},null,null).exports,ot={data:function(){return{posts:[]}},created:function(){var t=this;this.$http.get("/api/v1/all-posts").then(function(e){t.posts=e.data.data,console.log(e.data.data)}).catch(function(t){console.log(t)})},methods:{published_check:function(t){var e=this;console.log(t),this.$auth.post("/post-published",t).then(function(t){e.$notify.success({title:"Post",message:t.data.message})}).catch(function(t){422==t.response.status&&ge.$emit("login")})},View:function(t){this.$router.push({name:"Post",params:{id:t.id}})},Delete:function(t){var e=this,a=this.posts.indexOf(t);this.$auth.delete("/delete-post/"+t.id).then(function(t){"success"==t.data.status&&(e.posts.splice(a,1),e.$notify.success({title:"Post",message:"Post has been deleted"}))}).catch(function(t){422==t.response.status&&ge.$emit("login")})},Edit:function(t){this.$router.push({name:"EditPost",params:{id:t.id}})}}},lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.posts}},[a("el-table-column",{attrs:{prop:"title",label:"Title"}}),t._v(" "),a("el-table-column",{attrs:{label:"Published",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{on:{change:function(a){t.published_check(e.row)}},model:{value:e.row.publish,callback:function(a){t.$set(e.row,"publish",a)},expression:"scope.row.publish"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"Operations",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.View(e.row)}}},[t._v("View")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.Edit(e.row)}}},[t._v("Edit")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.Delete(e.row)}}},[t._v("Delete")])]}}])})],1)},staticRenderFns:[]},ct=a("VU/8")(ot,lt,!1,null,null,null).exports,ut={components:{VueEditor:st.VueEditor},data:function(){return{post:{content:"",title:"",published:!1,id:"",image_url:""},form:new FormData,fileData:{car_id:""}}},created:function(){var t=this,e=window.location.host;this.upload_url="http://"+window.location.host+"/api/v1/upload-photo",this.$auth.get("/post/"+this.$route.params.id).then(function(a){t.post.title=a.data.data.title,t.post.content=a.data.data.content,t.post.published=a.data.data.publish,t.post.id=t.$route.params.id,t.post.image_url="http://"+e+"/api/v1/get-image/"+a.data.data.pic})},methods:{handleImageAdded:function(t,e,a,s){var i=new FormData;i.append("file",t),i.append("id",this.post.id),this.$http.post("/api/v1/upload-post-photo",i).then(function(t){console.log(t.data.data);var i="http://"+window.location.host+"/api/v1/get-image/"+t.data.data;e.insertEmbed(a,"image",i),s()}).catch(function(t){console.log(t)})},Save:function(){var t=this;if(this.post.content&&this.post.title)return this.form.append("content",this.post.content),this.form.append("title",this.post.title),this.form.append("published",this.post.published),this.form.append("id",this.post.id),void this.$auth.post("/edit-post",this.form).then(function(e){if("success"==e.data.status)return t.$notify.success({title:"Post",message:"Post save"}),void t.$router.push("/admin-posts");t.$notify.error({title:"Post",message:"Error Occurred"})}).catch(function(t){console.log(t),422==t.response.status&&ge.$emit("login")});this.$notify.error({title:"Post",message:"Please fill in all the fields"})},Cancel:function(){this.$router.push("/admin-posts")},beforeAvatarUpload:function(t){this.post.image_url=URL.createObjectURL(t.raw);var e="image/jpeg"===t.type,a=t.size/1024/1024<2;return e||this.$message.error("Avatar picture must be JPG format!"),a||this.$message.error("Avatar picture size can not exceed 2MB!"),e&&a},onChanged:function(t,e){this.post.image_url=URL.createObjectURL(t.raw),this.form.append("file",t.raw),this.form.append("pic_name",t.name),this.have_photo=!0,console.log(this.car)},handleAvatarSuccess:function(t,e){}},computed:{markdownText:function(){return marked(this.post.content,{sanitize:!0})}}},dt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-container"},[a("div",{},[a("h4",[t._v("Title")]),t._v(" "),a("div",{staticClass:"editor-pane"},[a("el-input",{attrs:{placeholder:"Title"},model:{value:t.post.title,callback:function(e){t.$set(t.post,"title",e)},expression:"post.title"}})],1),t._v(" "),a("h4",[t._v("Content")]),t._v(" "),a("div",{staticClass:"editor-pane"},[a("vue-editor",{attrs:{useCustomImageHandler:"",placeholder:"Content"},on:{imageAdded:t.handleImageAdded},model:{value:t.post.content,callback:function(e){t.$set(t.post,"content",e)},expression:"post.content"}})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("div",{},[a("el-checkbox",{model:{value:t.post.published,callback:function(e){t.$set(t.post,"published",e)},expression:"post.published"}},[a("h4",[t._v("Publish")])])],1),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.Save}},[t._v("Save")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.Cancel}},[t._v("Cancel")])],1)]),t._v(" "),a("div",{staticStyle:{"margin-left":"10px","max-width":"300px"}},[a("h4",[t._v("Feature Image")]),t._v(" "),a("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:t.upload_url,"show-file-list":!1,"on-change":t.onChanged,"auto-upload":!1,data:t.fileData,"on-success":t.handleAvatarSuccess}},[a("el-button",[t._v("Select File")])],1),t._v(" "),a("div",{staticClass:"mt-10"},[t.post.image_url?a("img",{staticClass:"avatar",staticStyle:{width:"100%"},attrs:{src:t.post.image_url}}):t._e()])],1)])},staticRenderFns:[]};var pt=a("VU/8")(ut,dt,!1,function(t){a("ZcFc")},null,null).exports,ht={data:function(){return{posts:[]}},created:function(){var t=this;this.$auth.get("/drafts").then(function(e){t.posts=e.data.data,console.log(e.data.data)}).catch(function(t){console.log(t)})},methods:{published_check:function(t){var e=this;console.log(t),this.$auth.post("/post-published",t).then(function(t){e.$notify.success({title:"Post",message:t.data.message})}).catch(function(t){422==t.response.status&&ge.$emit("login")})},View:function(t){this.$router.push({name:"Post",params:{id:t.id}})},Delete:function(t){var e=this,a=this.posts.indexOf(t);this.$auth.delete("/delete-post/"+t.id).then(function(t){"success"==t.data.status&&(e.posts.splice(a,1),e.$notify.success({title:"Post",message:"Post has been deleted"}))}).catch(function(t){422==t.response.status&&ge.$emit("login")})},Edit:function(t){this.$router.push({name:"EditPost",params:{id:t.id}})}}},mt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.posts}},[a("el-table-column",{attrs:{prop:"title",label:"Title"}}),t._v(" "),a("el-table-column",{attrs:{label:"Published",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{on:{change:function(a){t.published_check(e.row)}},model:{value:e.row.publish,callback:function(a){t.$set(e.row,"publish",a)},expression:"scope.row.publish"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"Operations",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.View(e.row)}}},[t._v("View")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.Edit(e.row)}}},[t._v("Edit")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.Delete(e.row)}}},[t._v("Delete")])]}}])})],1)},staticRenderFns:[]},ft=a("VU/8")(ht,mt,!1,null,null,null).exports,vt={data:function(){return{post:{content:"",title:"",image_url:""}}},created:function(){var t=this;this.$http.get("/api/v1/post/"+this.$route.params.id).then(function(e){t.post=e.data.data;var a="http://"+window.location.host+"/api/get-image/"+t.post.pic;t.post.image_url=a})}},gt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"post"},[a("h2",{staticClass:"post-title"},[t._v(t._s(t.post.title))]),t._v(" "),t.post.image_url?a("div",{},[a("img",{attrs:{src:t.post.image_url,alt:""}})]):t._e(),t._v(" "),a("hr"),t._v(" "),a("div",{domProps:{innerHTML:t._s(t.post.content)}}),t._v(" "),a("router-link",{staticClass:"back-btn",attrs:{to:{name:"BlogPosts",params:{}}}},[t._v("Back")])],1)},staticRenderFns:[]};var _t=a("VU/8")(vt,gt,!1,function(t){a("47hv")},null,null).exports,bt={name:"Header",components:{},data:function(){return{brand:"Auto Shop",search_input:"",active:!1,loginVisible:!1,user:"",password:""}},methods:{logout:function(){var t=this;console.log("Logout"),this.$auth.logout().then(function(e){t.$auth.destroyTokens(),t.$router.push("/view-cars")}).catch(function(t){422==t.response.status&&ge.$emit("login")})}}},wt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-header",{staticClass:"header user"},[a("div",{},[a("router-link",{staticClass:"brand-link",attrs:{to:{name:"ViewCars",params:{}}}},[t._v(" "+t._s(t.brand))])],1),t._v(" "),a("div",{class:{active:t.active},attrs:{id:"hamburger"},on:{click:function(e){t.active=!t.active}}},[a("span",{staticClass:"bar1"}),t._v(" "),a("span",{staticClass:"bar2"}),t._v(" "),a("span",{staticClass:"bar3"})]),t._v(" "),a("div",{class:{active:t.active},attrs:{id:"side-menu"}},[a("div",{staticClass:"icon"},[a("icon",{attrs:{name:"envelope",scale:"1.75"}})],1),t._v(" "),a("div",{staticClass:"icon"},[a("icon",{attrs:{name:"bell",scale:"1.75"}})],1),t._v(" "),a("div",{staticClass:"log-out",on:{click:function(e){t.logout()}}},[a("icon",{staticClass:"icon",attrs:{scale:"1.75",name:"sign-out"},on:{click:function(e){t.logout()}}})],1)])]),t._v(" "),a("el-dialog",{attrs:{title:"Login",visible:t.loginVisible,width:"30%",center:""},on:{"update:visible":function(e){t.loginVisible=e}}},[a("el-input",{attrs:{placeholder:"Username"},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}}),t._v(" "),a("el-input",{attrs:{placeholder:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1)},staticRenderFns:[]};var yt=a("VU/8")(bt,wt,!1,function(t){a("yV19")},null,null).exports,$t={data:function(){return{isCollapse:!0}},methods:{handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)},toggle:function(){this.isCollapse=!this.isCollapse},profile:function(){alert("Hello")}}},Ct={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-menu",{staticClass:"side-menu",attrs:{"default-active":"2",collapse:t.isCollapse},on:{open:t.handleOpen,close:t.handleClose}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{attrs:{slot:"title"},slot:"title"},[a("icon",{staticClass:"icon",attrs:{scale:"1.50",name:"dashboard"}}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Dashboard")])],1),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"}},[a("router-link",{staticClass:"router-link",attrs:{to:""}},[t._v("Dashboard")])],1)],1)],2),t._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{attrs:{slot:"title"},slot:"title"},[a("icon",{staticClass:"icon",attrs:{scale:"1.50",name:"car"}}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Cars")])],1),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"2-1"}},[a("router-link",{attrs:{to:"/my-cars"}},[t._v("My Cars")])],1),t._v(" "),a("el-menu-item",{attrs:{index:"2-2"}},[a("router-link",{attrs:{to:"/add-car"}},[t._v("Add Car")])],1)],1)],2),t._v(" "),a("el-submenu",{attrs:{index:"3"}},[a("template",{attrs:{slot:"title"},slot:"title"},[a("icon",{staticClass:"icon",attrs:{scale:"1.50",name:"user"}}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Profile")])],1),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"3-1"}},[a("router-link",{attrs:{to:"/my-profile"}},[t._v("Profile")])],1),t._v(" "),a("el-menu-item",{attrs:{index:"3-1"}},[a("router-link",{attrs:{to:"/edit-my-profile"}},[t._v("Edit Profile")])],1)],1)],2),t._v(" "),a("el-submenu",{attrs:{index:"4"}},[a("template",{attrs:{slot:"title"},slot:"title"},[a("icon",{staticClass:"icon",attrs:{scale:"1.50",name:"envelope"}}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Message")])],1),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"4-1"}},[a("router-link",{attrs:{to:""}},[t._v("Messages")])],1)],1)],2)],1),t._v(" "),a("div",{staticClass:"collapse-btn",on:{click:function(e){t.isCollapse=!t.isCollapse}}},[t.isCollapse?t._e():a("i",{staticClass:"el-icon-arrow-left",attrs:{color:"white"}}),t._v(" "),t.isCollapse?a("i",{staticClass:"el-icon-arrow-right",attrs:{name:"angle-right",color:"black",scale:"5"}}):t._e()])],1)},staticRenderFns:[]};var kt={name:"Main",components:{"app-header":yt,"app-side-bar":a("VU/8")($t,Ct,!1,function(t){a("KEJt")},null,null).exports,"app-footer":c},created:function(){this.$router.push({path:"/my-cars"})}},xt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{},[e("app-header"),this._v(" "),e("el-container",[e("app-side-bar"),this._v(" "),e("el-container",[e("el-main",{staticClass:"main"},[e("router-view")],1),this._v(" "),e("el-footer",{staticClass:"footer"},[e("app-footer")],1)],1)],1)],1)},staticRenderFns:[]};var Ut=a("VU/8")(kt,xt,!1,function(t){a("XDwC")},null,null).exports,St={name:"App",components:{"app-header":r,"app-footer":c},created:function(){"/"==this.$route.path&&this.$router.push({path:"/view-cars"})}},Dt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("app-header"),this._v(" "),e("div",{staticClass:"main-container"},[e("aside",{staticClass:"aside"}),this._v(" "),e("main",[e("router-view")],1)]),this._v(" "),e("app-footer")],1)},staticRenderFns:[]};var Pt=a("VU/8")(St,Dt,!1,function(t){a("JL2R")},null,null).exports,Rt={data:function(){return{isCollapse:!0}},methods:{handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)},toggle:function(){this.isCollapse=!this.isCollapse},profile:function(){alert("Hello")}}},Et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-menu",{staticClass:"side-menu",attrs:{"default-active":"2",collapse:t.isCollapse},on:{open:t.handleOpen,close:t.handleClose}},[a("el-submenu",{attrs:{index:"1"}},[a("template",{attrs:{slot:"title"},slot:"title"},[a("icon",{staticClass:"icon",attrs:{scale:"1.50",name:"dashboard"}}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Dashboard")])],1),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"1-1"}},[a("router-link",{staticClass:"router-link",attrs:{to:""}},[t._v("Dashboard")])],1)],1)],2),t._v(" "),a("el-submenu",{attrs:{index:"2"}},[a("template",{attrs:{slot:"title"},slot:"title"},[a("icon",{staticClass:"icon",attrs:{scale:"1.50",name:"car"}}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Cars")])],1),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"2-1"}},[a("router-link",{attrs:{to:"/admin-cars"}},[t._v("Cars")])],1),t._v(" "),a("el-menu-item",{attrs:{index:"2-2"}},[a("router-link",{attrs:{to:"/flag-cars"}},[t._v("Flag Cars")])],1)],1)],2),t._v(" "),a("el-submenu",{attrs:{index:"3"}},[a("template",{attrs:{slot:"title"},slot:"title"},[a("icon",{staticClass:"icon",attrs:{scale:"1.50",name:"user"}}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Users")])],1),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"3-1"}},[a("router-link",{attrs:{to:"/admin/users"}},[t._v("User")])],1),t._v(" "),a("el-menu-item",{attrs:{index:"3-2"}},[a("router-link",{attrs:{to:""}})],1)],1)],2),t._v(" "),a("el-submenu",{attrs:{index:"4"}},[a("template",{attrs:{slot:"title"},slot:"title"},[a("icon",{staticClass:"icon",attrs:{scale:"1.50",name:"book"}}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Posts")])],1),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"4-1"}},[a("router-link",{attrs:{to:"/admin-posts"}},[t._v("Blog Posts")])],1),t._v(" "),a("el-menu-item",{attrs:{index:"4-2"}},[a("router-link",{attrs:{to:"/add-post"}},[t._v("Add Post")])],1),t._v(" "),a("el-menu-item",{attrs:{index:"4-3"}},[a("router-link",{attrs:{to:"/drafts"}},[t._v("Drafts")])],1)],1)],2),t._v(" "),a("el-submenu",{attrs:{index:"5"}},[a("template",{attrs:{slot:"title"},slot:"title"},[a("icon",{staticClass:"icon",attrs:{scale:"1.50",name:"envelope"}}),t._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Message")])],1),t._v(" "),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"5-1"}},[a("router-link",{attrs:{to:""}},[t._v("Messages")])],1)],1)],2)],1),t._v(" "),a("div",{staticClass:"collapse-btn",on:{click:function(e){t.isCollapse=!t.isCollapse}}},[t.isCollapse?t._e():a("i",{staticClass:"el-icon-arrow-left",attrs:{color:"white"}}),t._v(" "),t.isCollapse?a("i",{staticClass:"el-icon-arrow-right",attrs:{name:"angle-right",color:"black",scale:"5"}}):t._e()])],1)},staticRenderFns:[]};var Ft={name:"Main",components:{"app-header":yt,"app-side-bar":a("VU/8")(Rt,Et,!1,function(t){a("uf7d")},null,null).exports,"app-footer":c},created:function(){}},At={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{},[e("app-header"),this._v(" "),e("el-container",[e("app-side-bar"),this._v(" "),e("el-container",[e("el-main",{staticClass:"main"},[e("router-view")],1),this._v(" "),e("el-footer",{staticClass:"footer"},[e("app-footer")],1)],1)],1)],1)},staticRenderFns:[]};var Vt=a("VU/8")(Ft,At,!1,function(t){a("GOS+")},null,null).exports,Tt=a("bOdI"),Lt={data:function(){return{carData:[]}},created:function(){var t=this;this.$auth.get("/admin-cars").then(function(e){"success"==e.data.status&&(t.carData=e.data.data,console.log(t.carData))})},methods:a.n(Tt)()({View:function(t){console.log(t)},Delete:function(t){var e=this,a=this.carData.indexOf(t);this.$auth.delete("/admin-delete-car/"+a).then(function(t){"success"==t.data.status&&(e.carData.splice(a,1),e.$notify.success({title:"Deletion",message:t.data.message}))}).catch(function(t){401==error.response.status?ge.$emit("login"):422==error.response.status&&ge.$emit("login")}),console.log(a)},FlagCar:function(t){var e=t.row;t.rowIndex;return 1==e.flagged?"flag-car":""},feature_check:function(t){var e=this,a={featured:t.featured,car_id:t.car_id};this.$auth.post("/featured",a).then(function(t){e.$notify.success({title:"Featured",message:t.data.message})}).catch(function(t){console.log(t.response),401==error.response.status?ge.$emit("login"):422==error.response.status&&ge.$emit("login")})},published_check:function(t){var e=this,a={published:t.published,car_id:t.car_id};this.$auth.post("/published",a).then(function(t){e.$notify.success({title:"Published",message:t.data.message})}).catch(function(t){console.log(t.response),401==error.response.status?ge.$emit("login"):422==error.response.status&&ge.$emit("login")})},Refresh:function(){var t=this;this.$auth.get("/admin-cars").then(function(e){"success"==e.data.status&&(t.carData=e.data.data,console.log(t.carData))}).catch(function(t){401==error.response.status?ge.$emit("login"):422==error.response.status&&ge.$emit("login")})}},"View",function(t){this.$router.push({name:"AdminViewCar",params:{id:t.car_id}})})},Mt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-button",{on:{click:t.Refresh}},[t._v("Refresh")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.carData,"row-class-name":t.FlagCar}},[a("el-table-column",{attrs:{prop:"name",label:"Name"}}),t._v(" "),a("el-table-column",{attrs:{prop:"owner.username",label:"Owner",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"Published",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{on:{change:function(a){t.published_check(e.row)}},model:{value:e.row.published,callback:function(a){t.$set(e.row,"published",a)},expression:"scope.row.published"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Featured",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{on:{change:function(a){t.feature_check(e.row)}},model:{value:e.row.featured,callback:function(a){t.$set(e.row,"featured",a)},expression:"scope.row.featured"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"Operations",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.View(e.row)}}},[t._v("View")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.Delete(e.row)}}},[t._v("Delete")])]}}])})],1)],1)},staticRenderFns:[]};var zt=a("VU/8")(Lt,Mt,!1,function(t){a("zFK4")},null,null).exports,It={data:function(){return{carData:[]}},created:function(){var t=this;this.$http.get("/api/v1/flagged-cars").then(function(e){"success"==e.data.status&&(t.carData=e.data.data,console.log(t.carData))})},methods:{View:function(t){this.$router.push({name:"AdminViewCar",params:{id:t.car_id}})},Delete:function(t){var e=this,a=this.carData.indexOf(t);this.$auth.delete("/admin-delete-car/"+a).then(function(t){"success"==t.data.status&&(e.carData.splice(a,1),e.$notify.success({title:"Deletion",message:t.data.message}))}).catch(function(t){401==t.response.status?ge.$emit("login"):422==t.response.status&&ge.$emit("login")}),console.log(a)},FlagCar:function(t){var e=t.row;t.rowIndex;return 1==e.flagged?"flag-car":""},Refresh:function(){var t=this;this.$http.get("/api/v1/flagged-cars").then(function(e){"success"==e.data.status&&(t.carData=e.data.data,console.log(t.carData))})},published_check:function(t){var e=this,a={published:t.published,car_id:t.car_id};this.$auth.post("/published",a).then(function(t){e.$notify.success({title:"Published",message:t.data.message})}).catch(function(t){console.log(t.response),401==t.response.status?ge.$emit("login"):422==t.response.status&&ge.$emit("login")})},flag_check:function(t){var e=this,a={flagged:t.flag,car_id:t.car_id};this.$auth.post("/flag-car",a).then(function(t){e.$notify.success({title:"Published",message:t.data.message})}).catch(function(t){console.log(t.response),401==t.response.status?ge.$emit("login"):422==t.response.status&&ge.$emit("login")})}}},Ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-button",{on:{click:t.Refresh}},[t._v("Refresh")]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.carData}},[a("el-table-column",{attrs:{prop:"name",label:"Name"}}),t._v(" "),a("el-table-column",{attrs:{prop:"owner.username",label:"Owner",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"Published",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{on:{change:function(a){t.published_check(e.row)}},model:{value:e.row.published,callback:function(a){t.$set(e.row,"published",a)},expression:"scope.row.published"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Flagged",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-checkbox",{on:{change:function(a){t.flag_check(e.row)}},model:{value:e.row.flagged,callback:function(a){t.$set(e.row,"flagged",a)},expression:"scope.row.flagged"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"Operations",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.View(e.row)}}},[t._v("View")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.Delete(e.row)}}},[t._v("Delete")])]}}])})],1)],1)},staticRenderFns:[]};var Bt=a("VU/8")(It,Ot,!1,function(t){a("H7Fe")},null,null).exports,qt={data:function(){return{userData:[]}},created:function(){var t=this;this.$auth.get("/get-users").then(function(e){"success"==e.data.status&&(t.userData=e.data.data)}).catch(function(t){422==t.response.status&&ge.$emit("login")})},methods:{Delete:function(t){var e=this;this.$auth.delete("/delete-user/"+t.id).then(function(a){e.$notify.success({title:"User",message:a.data.message});var s=e.userData.indexOf(t);e.userData.splice(s,1)}).catch(function(t){422==t.response.status&&ge.$emit("login")})},View:function(t){this.$router.push({name:"AdminUser",params:{id:t.id}})}}},Yt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.userData}},[a("el-table-column",{attrs:{prop:"username",label:"Username"}}),t._v(" "),a("el-table-column",{attrs:{prop:"email",label:"Email"}}),t._v(" "),a("el-table-column",{attrs:{label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:""},on:{click:function(a){t.View(e.row)}}},[t._v("Profile")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(a){t.Delete(e.row)}}},[t._v("Delete")])]}}])})],1)],1)},staticRenderFns:[]};var Ht=a("VU/8")(qt,Yt,!1,function(t){a("L81+")},null,null).exports,Nt={components:{"my-img":_},data:function(){return{id:this.$route.params.id,car:{},image:"image"}},created:function(){var t=this;this.$http.get("/api/v1/get-car/"+this.$route.params.id).then(function(e){t.car=e.data.data}).catch(function(t){console.log(t)})},methods:{carTable:function(t){return[{label:"Brand",value:t.brand},{label:"Model",value:t.model},{label:"Price",value:"D"+t.price},{label:"Year",value:t.year},{label:"Transmission",value:t.transmission},{label:"Engine",value:t.engine+" Cylinder"},{label:"Mileage",value:t.mileage},{label:"Type",value:this.capitalize(t.type)},{label:"Fuel",value:t.fuel},{label:"Drive Train",value:t.drive_train+"WD"}]},Edit:function(){this.$store.commit("setCar",this.car),this.$router.push({name:"Edit-Car"})},capitalize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.charAt(0).toUpperCase()+t.slice(1)},flag:function(){this.$notify.success({title:"Flag Report",message:"You have raise a flag report for "+this.car.name+".\nYou will be contact for more details"})},ViewProfile:function(){this.$router.push({name:"UserProfile",params:{id:this.car.owner.id}})}}},jt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-container"},[a("div",{staticClass:"grid-md-8 mb-10"},[a("div",{},[a("el-tabs",{staticClass:"relative",attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"Image"}},[a("div",{staticClass:"tab"},[a("p",{staticStyle:{"font-style":"bold"}},[t._v(t._s(t.car.name))]),t._v(" "),a("my-img",{attrs:{image_url:t.id}})],1)]),t._v(" "),a("el-tab-pane",{attrs:{label:"Specification"}},[a("div",{staticClass:"tab"},[a("el-table",{staticClass:"car-table",staticStyle:{width:"100%"},attrs:{data:t.carTable(t.car)}},[a("el-table-column",{attrs:{prop:"label",label:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"value",label:""}})],1)],1)]),t._v(" "),a("el-tab-pane",{attrs:{label:"Description"}},[a("div",{staticClass:"tab"},[a("p",[t._v(t._s(t.car.description))])])]),t._v(" "),a("el-tab-pane",{attrs:{label:"Flagged"}},[a("div",{staticClass:"tab"},[a("h4",[t._v("Flagger: "+t._s(t.car.flagger))]),t._v(" "),a("h4",[t._v("Reason")]),t._v(" "),a("p",{staticStyle:{"overflow-y":"auto"}},[t._v(t._s(t.car.flag_reason))])])])],1)],1)])])},staticRenderFns:[]};var Jt=a("VU/8")(Nt,jt,!1,function(t){a("5zl/")},null,null).exports,Wt={components:{"my-img":_},data:function(){return{url:"",user:{},cars:[],imageUrl:""}},created:function(){var t=this;this.url=window.location.hostname+":"+window.location.port,this.imageUrl="http://"+this.url+"/api/v1/get-profile-pic/"+this.$route.params.id,this.$http.get("/api/v1/get-profile/"+this.$route.params.id).then(function(e){t.user=e.data.data,console.log(t.user),t.$http.get("api/v1/user-cars/"+t.user.id).then(function(e){t.cars=e.data.data})})},methods:{View:function(t){this.$router.push({name:"AdminViewCar",params:{id:t}})}}},Gt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:" info"},[a("h2",[t._v("Username: "+t._s(t.user.username))]),t._v(" "),a("h4",[t._v("Email: "+t._s(t.user.email))]),t._v(" "),a("h4",[t._v("Tel: "+t._s(t.user.contact))])])]),t._v(" "),a("hr"),t._v(" "),a("h3",[t._v(t._s(t.user.username)+"'s Cars")]),t._v(" "),a("div",{staticClass:"flex-container"},t._l(t.cars.length,function(e){return a("el-card",{key:e,staticClass:"car-card",staticStyle:{"margin-bottom":"10px"},attrs:{label:e}},[a("div",{},[a("div",{staticClass:"car-content"},[a("my-img",{attrs:{image_url:t.cars[e-1].car_id}}),t._v(" "),a("div",{staticStyle:{margin:"20px"}},[a("h4",[t._v(t._s(t.cars[e-1].name))])])],1),t._v(" "),a("div",{},[a("el-button",{attrs:{type:"primary"},on:{click:function(a){t.View(t.cars[e-1].car_id)}}},[t._v("View")])],1)])])}))],1)},staticRenderFns:[]};var Kt=a("VU/8")(Wt,Gt,!1,function(t){a("lYXt")},null,null).exports,Xt={props:["post"],data:function(){return{}},computed:{getImage:function(){return"http://"+window.location.host+"/api/v1/get-image"+post.pic}},methods:{selectPost:function(){this.$router.push({name:"BlogPost",params:{id:this.post.id}})}}},Zt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-card",{staticClass:"post-card relative",staticStyle:{"margin-bottom":"10px"}},[e("div",{staticClass:"overlay",on:{click:this.selectPost}},[e("div",{staticClass:"post-content"},[e("img",{attrs:{src:this.getImage}}),this._v(" "),e("div",{staticStyle:{margin:"20px"}},[e("h4",[this._v(this._s(this.post.title))])])])])])},staticRenderFns:[]};var Qt={components:{"post-card":a("VU/8")(Xt,Zt,!1,function(t){a("w129")},null,null).exports},data:function(){return{posts:[]}},created:function(){var t=this;this.$http.get("/api/v1/posts").then(function(e){t.posts=e.data.data,console.log(t.posts)})},methods:{selectPost:function(t){this.$router.push({name:"BlogPost",params:{id:t.id}})}},computed:{}},te={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("h2",[t._v("Blog Posts")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"flex-container"},t._l(t.posts.length,function(e){return a("post-card",{key:e,attrs:{post:t.posts[e-1]}})}))])},staticRenderFns:[]};var ee=a("VU/8")(Qt,te,!1,function(t){a("XmMu")},null,null).exports;s.default.use(f.a);var ae=new f.a({routes:[{path:"/",name:"View",component:Pt,children:[{path:"/view-cars",name:"ViewCars",component:y},{path:"/view-car/:id",name:"View-Car",component:S},{path:"/user/:id",name:"UserProfile",component:at},{path:"/cars/:id",name:"Type-Cars",component:B},{path:"/blog-post/:id",name:"BlogPost",component:_t},{path:"/blog-posts",name:"BlogPosts",component:ee}]},{path:"/main",name:"Main",component:Ut,children:[{path:"/my-cars",name:"MyCars",component:T,meta:{forAuth:!0}},{path:"/add-car",name:"AddCar",component:k,meta:{forAuth:!0}},{path:"/edit-car",name:"Edit-Car",component:R,meta:{forAuth:!0}},{path:"/my-profile",name:"MyProfile",component:K,meta:{forAuth:!0}},{path:"/edit-my-profile",name:"EditProfile",component:Q,meta:{forAuth:!0}},{path:"/my-car/:id",name:"MyCarView",component:z,meta:{forAuth:!0}}]},{path:"/admin",name:"Admin",component:Vt,children:[{path:"/admin-cars",name:"AdminCars",component:zt,meta:{forAuth:!0}},{path:"/flag-cars",name:"FlagCars",component:Bt,meta:{forAuth:!0}},{path:"/add-post",name:"Add-Post",component:rt,meta:{forAuth:!0}},{path:"/admin-posts",name:"AdminPost",component:ct,meta:{forAuth:!0}},{path:"/edit-post/:id",name:"EditPost",component:pt,meta:{forAuth:!0}},{path:"/drafts",name:"Drafts",component:ft,meta:{forAuth:!0}},{path:"/post/:id",name:"Post",component:_t,meta:{forAuth:!0}},{path:"/admin/view-car/:id",name:"AdminViewCar",component:Jt,meta:{forAuth:!0}},{path:"/admin/users",name:"Users",component:Ht,meta:{forAuth:!0}},{path:"/admin/user/:id",name:"AdminUser",component:Kt,meta:{forAuth:!0}}]},{path:"/login",name:"Login",component:H},{path:"/register",name:"Register",component:J}]}),se=a("zL8q"),ie=a.n(se),ne=(a("tvR6"),a("wUZ8")),re=a.n(ne),oe=a("UnSZ"),le=a.n(oe),ce=(a("D/PP"),a("D4uH")),ue=a("mtWM"),de=a.n(ue),pe=a("Rf8U"),he=a.n(pe),me=a("NYxO"),fe=(a("sUu7"),a("HSQo")),ve=a.n(fe);a.d(e,"bus",function(){return ge}),s.default.config.productionTip=!1,s.default.use(he.a,de.a);window.location.host;de.a.defaults.baseURL="http://localhost:5000",s.default.use(me.a),s.default.use(ie.a,{locale:re.a}),s.default.use(le.a,{name:"ls"}),s.default.use(function(t){var e={};t.auth={setAccessToken:function(t){this.storage.set("access-token",t["access-token"]);var e=Date.now()+9e5;this.storage.set("expiration-time",e)},setBaseUrl:function(t){this.baseURL=t},setTokens:function(t,e){t.expires?e.set("expiration-time",Date.now()+t.expires):Date.now(),t["refresh-token"]&&e.set("refresh-token",t["refresh-token"]),t["access-token"]&&e.set("access-token",t["access-token"])},setAuthenticatedUser:function(t){e=t},setStorage:function(t){this.storage=t},getAccessToken:function(){var t=this.storage.get("access-token"),e=this.storage.get("expiration-time");if(!t||!e)return null;var a=(e-Date.now())/1e3/60;return console.log(a+" minutes"),Date.now()>e?(this.destroyTokens(),null):t},destroyTokens:function(){this.storage.remove("access-token"),this.storage.remove("expiration-time"),this.storage.remove("refresh-token")},isAuthenticated:function(){return!!this.getAccessToken()},getRefreshToken:function(){var t=this.storage.get("refresh-token");return t||null},getAuthenticatedUser:function(t){return e},login:function(t){return de.a.post(this.baseURL+"/login",t)},logout:function(){this.userLogout=!1;var t=this.getAccessToken();return de.a.get(this.baseURL+"/logout-access",{headers:{Authorization:"Bearer "+t}})},logoutRefresh:function(){var t=this.getRefreshToken();return de.a.get(this.baseURL+"/logout-refresh",{headers:{Authorization:"Bearer "+t}})},refreshToken:function(){var t=this;de.a.get(this.baseURL+"/token-refresh",{headers:{Authorization:"Bearer "+this.getRefreshToken()}}).then(function(e){return t.setAccessToken(e.data),!0}).catch(function(e){console.log(e.data),t.destroyTokens()})},validateToken:function(){var t=this.storage.get("expiration-time");return!(Date.now()>t)||this.refreshToken()},get:function(t){return this.validateToken()?de.a.get(this.baseURL+t,{headers:{Authorization:"Bearer "+this.getAccessToken()}}):null},post:function(t,e){if(this.validateToken()){var a=this.getAccessToken();return de.a.post(this.baseURL+t,e,{headers:{Authorization:"Bearer "+a}})}},delete:function(t){return this.validateToken()?de.a.delete(this.baseURL+t,{headers:{Authorization:"Bearer "+this.getAccessToken()}}):null}},ve()(t.prototype,{$auth:{get:function(){return t.auth}}})}),s.default.use(function(t){t.can={edit:function(t,e){try{return t.id==e.owner.id}catch(t){return console.log(t),!1}},delete:function(t,e){try{return t.id==e.owner.id}catch(t){return console.log(t),!1}}},ve()(t.prototype,{$can:{get:function(){return t.can}}})}),s.default.auth.setBaseUrl("http://localhost:5000/api/v1"),s.default.auth.setStorage(s.default.ls),s.default.component("icon",ce.a),s.default.filter("capitalize",function(t){return t.charAt(0).toUpperCase()+t.slice(1)});var ge=new s.default;ae.beforeEach(function(t,e,a){t.matched.some(function(t){return t.meta.forVisitors})?s.default.auth.isAuthenticated()?a({path:"/"}):a():t.matched.some(function(t){return t.meta.forAuth})?s.default.auth.isAuthenticated()?a():a({path:"/login"}):a()});var _e=new me.a.Store({state:{car:{},cars:[],user:[]},getters:{car:function(t){return t.car},cars:function(t){return t.cars},user:function(t){return t.user}},mutations:{setCar:function(t,e){t.car=e},setCars:function(t,e){t.cars=e},setUser:function(t,e){t.user=e}}});new s.default({el:"#app",router:ae,store:_e,components:{App:m},template:"<App/>"})},UlM0:function(t,e){},VJ7Z:function(t,e){},VVit:function(t,e){},XDwC:function(t,e){},XmMu:function(t,e){},ZcFc:function(t,e){},aE0u:function(t,e){},bEKX:function(t,e){},"cpB+":function(t,e){},hKja:function(t,e){},lYXt:function(t,e){},riET:function(t,e){},tvR6:function(t,e){},uMJP:function(t,e){},uf7d:function(t,e){},w129:function(t,e){},wRhZ:function(t,e){},xP5M:function(t,e){},yFTK:function(t,e){},yV19:function(t,e){},zFK4:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.f870fc8a7839d0ab495c.js.map